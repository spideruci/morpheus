{"version":3,"sources":["components/routes/About.js","components/logic/morpheusAPI.js","components/visualizations/MatrixVisualization.js","components/common/FilterMenu.js","components/common/Menu.js","components/common/ResultTextBox.js","components/filters/filter_utils.js","components/filters/test_filters.js","components/filters/method_filters.js","components/filters/data_processor.js","components/filters/sorting.js","components/routes/TestMatrixView.js","components/common/Footer.js","components/common/Header.js","components/common/navbar.js","App.js","index.js"],"names":["About","useState","content","setContent","useEffect","axios","get","process","then","res","data","md_content","catch","console","error","className","source","fetchCoverage","project_name","json","response","methods","coverage","map","m","get_id","method_id","to_string","package_name","class_name","method_decl","get_cluster","hasOwnProperty","cluster_id","get_color","tests","t","test_id","method_name","edges","e","get_x","get_y","MatrixVisualization","props","ref","React","createRef","state","width","height","margin","top","left","right","bottom","labelToggle","createMatrix","bind","createTestMatrixView","update","onMethodClick","onTestClick","onRightClick","current","x","this","y","length","x_labels","y_labels","nodes","log","forEach","edge","index","highlight","push","parseInt","z","window","addEventListener","setTimeout","setState","parentElement","offsetWidth","offsetHeight","prevProps","prevState","snapshot","isEqual","node","svg","select","attr","vis_width","vis_height","xRange","scalePoint","padding","range","xScale","copy","domain","label","xLabel","yRange","yScale","yLabel","createTickFormatter","labelInterval","i","step","x_tick_interval","y_tick_interval","x_toggle","y_toggle","xAxis","axisTop","tickFormat","scale","yAxis","axisLeft","transition","duration","ease","easeLinear","rectWidth","rectHeight","selectAll","join","enter","append","call","d","exit","remove","Math","max","tooltip","style","scaleOrdinal","schemeSet3","Array","from","Set","colorX","on","event","text_width","text","layerY","each","getComputedTextLength","x_location","layerX","colorY","translateY","translateX","xlabel","ylabel","id","Component","FilterMenu","entries","display","user_input","target","value","filter","item","toLowerCase","includes","title","type","placeholder","onKeyUp","filterFunction","onChange","onClick","entry","key","Menu","description","reset","updateReset","setValue","Tooltip","line","fontSize","ResultTextBox","idx","readOnly","create_coverage_map","get_key","get_value","test_id_map","Map","has","method_ids","add","set","filter_by_test_passed","current_state","_","test_filter","predicate","new_edges","test_ids","test","new_state","TEST_RESULT","PASS","info","test_result","FAIL","filter_by_coexecuted_tests","identifier","test_cases","filter_test","find","undefined","filtered_test_id","filtered_methods","filtered_edges","filter_by_test_type","all_data","test_type","filter_type","TEST_TYPES","UNIT","p","c","size","INTEGRATION","SYSTEM","map_method_id","new_tests","new_test_ids","test_to_meth_map","package_set","class_set","method","test_type_filter","filter_method_by_number_of_times_tested","method_id_map","filter_by_coexecuted_methods","filter_method","filtered_method_id","filtered_tests","FunctionMap","fmap","get_map","function_id","func","args","delete","wrapped_func","sort_by_coverage_X","list","x_map","sort","e1","e2","id1","id2","size1","size2","sort_by_coverage_Y","y_map","color_by_test_type","boo","random","test_id_to_type_map","array","color_by_test_result","sort_by_cluster_X","sort_by_cluster_Y","sort_by_suspciousness","suspciousness_map","test_result_map","result","total_tests_failed","total_tests_passed","elem","passed","failed","suspiciousness","s1","s2","TestMatrixView","selectedProject","history","projects","commits","expanded","isVisible","currentMethod","anchor","current_method_id","coloring","backInTime","onProjectChange","setMethodAnchor","new_history","slice","selectedCommit","current_filter_map","filtered_data","cloneDeep","process_data","handleChange","panel","isExpanded","new_filter_map","add_function","concat","preventDefault","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","Footer","href","alt","src","Header","Navbar","to","App","basename","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yeAsBeA,G,OAjBD,WAAO,IAAD,EACcC,mBAAS,MADvB,mBACVC,EADU,KACDC,EADC,KAUhB,OAPAC,qBAAU,WACNC,IAAMC,IAAN,UAAaC,YAAb,sBACKC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,QAChBF,MAAK,SAAAG,GAAU,OAAIR,EAAWQ,MAC9BC,MAAMC,QAAQC,UAInB,yBAAKC,UAAU,mBACX,kBAAC,IAAD,CAAeC,OAAQd,O,0ECJtBe,EAAgB,SAACC,GAC1B,OAAOC,YAAK,GAAD,OAAIZ,YAAJ,sBAAwCW,EAAxC,UACNV,MAAK,SAACY,GACH,MAAO,CACHC,QAASD,EAASE,SAASD,QAAQE,KAAI,SAAAC,GAKnC,OAJAA,EAAEC,OAAS,kBAAMD,EAAEE,WACnBF,EAAEG,UAAY,2BAASH,EAAEI,aAAX,YAA2BJ,EAAEK,WAA7B,YAA2CL,EAAEM,cAC3DN,EAAEO,YAAc,kBAAMP,EAAEQ,eAAe,cAAgBR,EAAES,WAAa,GACtET,EAAEU,UAAY,kBAAMV,EAAEI,cACfJ,KAEXW,MAAOf,EAASE,SAASa,MAAMZ,KAAI,SAAAa,GAK/B,OAJAA,EAAEX,OAAS,kBAAMW,EAAEC,SACnBD,EAAET,UAAY,2BAASS,EAAEP,WAAX,YAAyBO,EAAEE,cACzCF,EAAEL,YAAc,kBAAMK,EAAEJ,eAAe,cAAgBI,EAAEH,WAAa,GACtEG,EAAEF,UAAY,kBAAME,EAAEP,YACfO,KAEXG,MAAOnB,EAASE,SAASiB,MAAMhB,KAAI,SAAAiB,GAc/B,OAbAA,EAAEN,UAAY,WACV,OAAQM,EAAC,aACL,IAAK,IACD,MAAO,UACX,IAAK,IACD,MAAO,UACX,QACI,MAAO,UAGnBA,EAAEC,MAAQ,kBAAMD,EAAEd,WAClBc,EAAEE,MAAQ,kBAAMF,EAAEH,SAEXG,SAIlB5B,MAAMC,QAAQC,Q,kHCoUR6B,E,kDA3WX,WAAYC,GAAQ,IAAD,8BACf,gBAEKC,IAAMC,IAAMC,YAEjB,EAAKC,MAAQ,CACTC,MAAO,EACPC,OAAQ,GAGZ,EAAKC,OAAS,CACVC,IAAK,GACLC,KAAM,GACNC,MAAO,EACPC,OAAQ,GAGZ,EAAKC,cAAcZ,EAAMZ,eAAe,gBAAiBY,EAAK,YAE9D,EAAKa,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,qBAAuB,EAAKA,qBAAqBD,KAA1B,gBAC5B,EAAKE,OAAS,EAAKA,OAAOF,KAAZ,gBAGd,EAAKG,cAAgBjB,EAAMiB,cAC3B,EAAKC,YAAclB,EAAMkB,YACzB,EAAKC,aAAenB,EAAMmB,aA1BX,E,2DA8Bf,IAAMC,EAAU,CACZC,EAAGC,KAAKtB,MAAMqB,EACdE,EAAGD,KAAKtB,MAAMuB,EACd5B,MAAO2B,KAAKtB,MAAML,OAGtB,GAAyB,IAArByB,EAAQC,EAAEG,QAAqC,IAArBJ,EAAQG,EAAEC,OACpC,MAAO,CACHC,SAAU,GACVC,SAAU,GACVC,MAAO,IAIf,IAAIhC,EAAQ,GAeZ,OAdA1B,QAAQ2D,IAAIR,GAEZA,EAAQzB,MAAMkC,SAAQ,SAACC,EAAMC,GACzB,GAAuB,OAAjBD,EAAKhC,SAAqC,OAAjBgC,EAAKjC,QAAkB,CAClD,IAAMmC,IAAYF,EAAK1C,eAAe,cAAe0C,EAAKE,UAE1DrC,EAAMsC,KAAK,CACPZ,EAAGa,SAASJ,EAAKjC,SACjB0B,EAAGW,SAASJ,EAAKhC,SACjBqC,EAAGL,EAAKxC,YACR0C,UAAWA,QAIhB,CACHP,SAAUL,EAAQC,EAClBK,SAAUN,EAAQG,EAClBI,MAAOhC,K,0CAIM,IAAD,OAChByC,OAAOC,iBAAiB,UAAU,WAC9BC,WAAW,KACX,EAAKC,SAAS,CACVlC,MAAO,EAAKJ,IAAImB,QAAQoB,cAAcC,YACtCnC,OAAQ,EAAKL,IAAImB,QAAQoB,cAAcE,cACxC,EAAK1B,WAGZM,KAAKP,yB,yCAGU4B,EAAWC,EAAWC,GACrC,GAAyB,OAArBvB,KAAKrB,IAAImB,QAAkB,CAC3B,IAAMf,EAAQiB,KAAKrB,IAAImB,QAAQoB,cAAcC,YACvCnC,EAASgB,KAAKrB,IAAImB,QAAQoB,cAAcE,aAC1CpB,KAAKlB,MAAMC,QAAUA,GAASiB,KAAKlB,MAAME,SAAWA,IACpDrC,QAAQ2D,IAAI,yBACZN,KAAKiB,SAAS,CACVlC,MAAOA,EACPC,OAAQA,GACTgB,KAAKN,SAKV8B,kBAAQH,EAAUtB,EAAGC,KAAKtB,MAAMqB,IAASyB,kBAAQH,EAAUpB,EAAGD,KAAKtB,MAAMuB,KAC3ED,KAAKV,YAAcU,KAAKtB,MAAMY,YAC9BU,KAAKL,cAAgBK,KAAKtB,MAAMiB,cAChCK,KAAKJ,YAAcI,KAAKtB,MAAMkB,YAC9BI,KAAKN,Y,+BAKF,IAAD,OAEA+B,EAAOzB,KAAKrB,IAAImB,QAClB4B,EAAMC,YAAOF,GACjBC,EAAIE,KAAK,UAAW,CAAC,EAAG,EAAG5B,KAAKlB,MAAMC,MAAOiB,KAAKlB,MAAME,SAExD,IAAIxC,EAAOwD,KAAKT,eAEZsC,EAAY7B,KAAKlB,MAAMC,MAAQiB,KAAKf,OAAOE,KAAOa,KAAKf,OAAOG,MAAO,GACrE0C,EAAa9B,KAAKlB,MAAME,OAASgB,KAAKf,OAAOC,IAAMc,KAAKf,OAAOI,OAAQ,GAIvE0C,EAASC,cACRC,QAAQ,IACRC,MAAM,CAAC,EAAGL,IAEXM,EAASJ,EAAOK,OACfC,OAAO7F,EAAK2D,SAAS9C,KAAI,SAACiF,GAAD,OAAW1B,SAAS0B,EAAM/E,cAEpDgF,EAASR,EAAOK,OACfC,OAAO7F,EAAK2D,SAAS9C,KAAI,SAACiF,GAAD,OAAWA,EAAM7E,gBAI3C+E,EAASR,cACRC,QAAQ,IACRC,MAAM,CAAC,EAAGJ,IAEXW,EAASD,EAAOJ,OACfC,OAAO7F,EAAK4D,SAAS/C,KAAI,SAACiF,GAAD,OAAWA,EAAM/E,aAE3CmF,EAASF,EAAOJ,OACfC,OAAO7F,EAAK4D,SAAS/C,KAAI,SAACiF,GAAD,OAAWA,EAAM7E,gBAY/C,SAASkF,EAAoBrD,EAAasD,GACtC,OAAQ,SAACN,EAAOO,GAMZ,OALAP,EAAQ,GACHhD,IACDgD,EAAQ,IAGLO,EAAID,IAAkB,EAAI,IAAMN,GAjB3CC,EAAOO,SAAWX,EAAOW,QAEzBnG,QAAQC,MAAM,2CAEd8F,EAAOI,SAAWL,EAAOK,QAEzBnG,QAAQC,MAAM,2CAgBlB,IACMmG,EAAkBvG,EAAK2D,SAASD,QADnB,GAC0C,EAAI1D,EAAK2D,SAASD,OAD5D,GAEb8C,EAAkBxG,EAAK4D,SAASF,QAFnB,GAE0C,EAAI1D,EAAK2D,SAASD,OAF5D,GAIb+C,EAAWzG,EAAK2D,SAASD,QAJZ,IAIoCF,KAAKV,YACtD4D,EAAW1G,EAAK4D,SAASF,QALZ,IAKoCF,KAAKV,YAExD6D,EAAQC,cACPC,WAAWV,EAAoBM,EAAUF,IACzCO,MAAMf,GAEPgB,EAAQC,cACPH,WAAWV,EAAoBO,EAAUF,IACzCM,MAAMZ,GAELxE,EAAIuF,cACLC,SAAS,GACTC,KAAKC,KAENC,EAAYtB,EAAOO,OACnBgB,EAAapB,EAAOI,OAExBnB,YAAO,gBACFC,KAAK,YADV,oBACoC5B,KAAKf,OAAOE,KADhD,aACyDa,KAAKf,OAAOC,IADrE,MAEK6E,UAAU,SACVvH,KAAKA,EAAK6D,OACV2D,MACG,SAAAC,GAAK,OAAIA,EAAMC,OAAO,QAAQC,MAAK,SAAAF,GAAK,OAAIA,EACvCR,WAAWvF,GACP0D,KAAK,KAAK,SAACwC,GAAD,OAAOjC,EAAOiC,EAAErE,GAAK8D,EAAU,KAC7CJ,WAAWvF,GACP0D,KAAK,KAAK,SAACwC,GAAD,OAAO3B,EAAO2B,EAAEnE,GAAK6D,EAAW,WAEnD,SAAApE,GAAM,OAAIA,EAAOyE,MAAK,SAAAzE,GAAM,OAAIA,EAC3B+D,WAAWvF,GACP0D,KAAK,KAAK,SAACwC,GAAD,OAAOjC,EAAOiC,EAAErE,GAAK8D,EAAY,KAC/CJ,WAAWvF,GACP0D,KAAK,KAAK,SAACwC,GAAD,OAAO3B,EAAO2B,EAAEnE,GAAK6D,EAAa,WAErD,SAAAO,GAAI,OAAIA,EAAKC,YAEZ1C,KAAK,QAAS,QACdA,KAAK,QAAQ,SAACwC,GAAD,OAAOA,EAAEvD,KACtBe,KAAK,QAASiC,GACdjC,KAAK,SAAUkC,GACflC,KAAK,KAAM2C,KAAKC,IAAI,EAAGrC,EAAOW,OAAO,IACrClB,KAAK,UAAU,SAACwC,GAAD,OAAOA,EAAE1D,UAAY,QAAU,QAC9CkB,KAAK,eAAe,SAACwC,GAAD,OAAOA,EAAE1D,UAAY,MAAQ,SAI1D,IAAI+D,EAAU/C,EAAIC,OAAO,YACpB+C,MAAM,aAAc,UAEzBD,EAAQP,OAAO,QACVtC,KAAK,KAAM,gBACX8C,MAAM,YAAa,QAGxB/C,YAAO,YACFC,KAAK,YADV,oBACoC5B,KAAKf,OAAOE,KADhD,aACyDa,KAAKf,OAAOC,IADrE,MAEKiF,KAAKhB,GAQVxB,YAAO,YACFoC,UAAU,gBACVvH,KAAKA,EAAK2D,UACV6D,MACG,SAAAC,GAAK,OAAIA,EAAMC,OAAO,UAAUC,MAAK,SAAAF,GAAK,OAAIA,EACzCrC,KAAK,MAAM,SAACwC,GAAD,OAAO7B,EAAO6B,EAAE3G,aAAe,cAE/C,SAAAiC,GAAM,OAAIA,EAAOyE,MAAK,SAAAzE,GAAM,OAAIA,EAC3BkC,KAAK,MAAM,SAACwC,GAAD,OAAO7B,EAAO6B,EAAE3G,aAAe,cAE/C,SAAA4G,GAAI,OAAIA,EAAKC,YAEZ1C,KAAK,QAAS,eACdA,KAAK,MAAO,IACZA,KAAK,IAAK,GACV8C,MAAM,SAAU,SAChBA,MAAM,eAAgB,KACtBA,MAAM,QAAQ,SAACN,GAAD,OAvBR,SAACA,GAEZ,OADcO,YAAaC,KAAYvC,OAAOwC,MAAMC,KAAK,IAAIC,IAAIvI,EAAK2D,SAAS9C,KAAI,SAAC+G,GAAD,OAAOA,EAAEpG,iBACrFsF,CAAMc,GAqBaY,CAAOZ,EAAEpG,gBAC9BiH,GAAG,aAAa,SAACC,EAAOd,GACrB,IAAIe,EAAa,EACjBV,EACKC,MAAM,aAAc,WACpB/C,OAAO,iBACPyD,KAAKhB,EAAE3G,aACHmE,KAAK,IAAKsD,EAAMG,OAAU,EAAKpG,OAAOC,IAAM,EAAK,MACjDoG,MAAK,SAAClB,EAAGvB,GACNsC,EAAaxD,YAAO,iBAAiBF,OAAO8D,2BAE/C3D,KAAK,YAAa,IAClBA,KAAK,KAAK,WACP,IAAI4D,EAAaN,EAAMO,OAAUN,EAAa,EAAK,GAInD,OAHIK,EAAa,KACbA,EAAa,IAEVA,EAAa,WAGnCP,GAAG,YAAY,SAACC,EAAOd,GACpBK,EACKC,MAAM,aAAc,aAE5BO,GAAG,QAASjF,KAAKL,eACjBsF,GAAG,cAAejF,KAAKH,cAChC8B,YAAO,YACFC,KAAK,YADV,oBACoC5B,KAAKf,OAAOE,KADhD,aACyDa,KAAKf,OAAOC,IADrE,MAEKiF,KAAKZ,GAOV5B,YAAO,YACFoC,UAAU,gBACVvH,KAAKA,EAAK4D,UACV4D,MACO,SAAAC,GAAK,OAAIA,EAAMC,OAAO,UAAUC,MAAK,SAAAF,GAAK,OAAIA,EACzCrC,KAAK,MAAM,SAACwC,GAAD,OAAQ1B,EAAO0B,EAAE3G,aAAgB,cAEjD,SAAAiC,GAAM,OAAIA,EAAOyE,MAAK,SAAAzE,GAAM,OAAIA,EAC3BkC,KAAK,MAAM,SAACwC,GAAD,OAAO1B,EAAO0B,EAAE3G,aAAe,cAE/C,SAAA4G,GAAI,OAAIA,EAAKC,YAEhB1C,KAAK,QAAS,eACdA,KAAK,MAAO,IACZA,KAAK,IAAK,GACV8C,MAAM,SAAU,SAChBA,MAAM,eAAgB,KACtBA,MAAM,QAAQ,SAACN,GAAD,OAtBR,SAACA,GAEZ,OADcO,YAAaC,KAAYvC,OAAOwC,MAAMC,KAAK,IAAIC,IAAIvI,EAAK4D,SAAS/C,KAAI,SAAC+G,GAAD,OAAOA,EAAEpG,iBACrFsF,CAAMc,GAoBasB,CAAOtB,EAAEpG,gBAC9BiH,GAAG,aAAa,SAACC,EAAOd,GACrB,IAAIuB,EAAajD,EAAO0B,EAAE3G,aACtBmI,EAAa,EAAK3G,OAAOE,KAAK,EAC9BgG,EAAa,EACjBV,EACKC,MAAM,aAAc,WACpB/C,OAAO,iBACH2D,MAAK,SAAClB,EAAGvB,GACNsC,EAAaxD,YAAO,iBAAiBF,OAAO8D,2BAE/CH,KAAKhB,EAAE3G,aACPmE,KAAK,IAAK,GACVA,KAAK,IAAK,GACdA,KAAK,aAAa,SAACwC,GAEhB,OADAuB,EAAaA,EAAa,EAAK1G,OAAOC,IAAMiG,EAAa,EACnD,aAAN,OAAoBS,EAApB,aAAmCD,EAAnC,sBAGXV,GAAG,YAAY,SAACC,EAAOd,GACpBK,EACKC,MAAM,aAAc,aAE5BO,GAAG,QAASjF,KAAKJ,aAG1B8B,EAAIC,OAAO,WACNC,KAAK,IAAK5B,KAAKlB,MAAMC,MAAQ,GAC7B6C,KAAK,IAAK,IACV8C,MAAM,cAAe,UACrBU,KAAKpF,KAAKtB,MAAMmH,QAGrBnE,EAAIC,OAAO,WACNC,KAAK,YAAa,eAClBA,KAAK,IAAK,GACVA,KAAK,KAAM5B,KAAKlB,MAAME,OAAS,GAC/B4C,KAAK,KAAM,SACX8C,MAAM,cAAe,UACrBU,KAAKpF,KAAKtB,MAAMoH,U,6CAIrB,IAAMrE,EAAOzB,KAAKrB,IAAImB,QAElB4B,EAAMC,YAAOF,GACjBC,EAAIE,KAAK,UAAW,CAAC,EAAG,EAAG5B,KAAKlB,MAAMC,MAAOiB,KAAKlB,MAAME,SAExD0C,EAAIwC,OAAO,KAAKtC,KAAK,QAAS,UAC9BF,EAAIwC,OAAO,KAAKtC,KAAK,QAAS,UAC9BF,EAAIwC,OAAO,KAAKtC,KAAK,QAAS,cAC9BF,EAAIwC,OAAO,KAAKtC,KAAK,QAAS,WAG9BF,EAAIwC,OAAO,QAAQtC,KAAK,QAAS,UACjCF,EAAIwC,OAAO,QAAQtC,KAAK,QAAS,Y,+BAIjC,OACI,yBAAKmE,GAAG,iBACJ,yBAAKpH,IAAKqB,KAAKrB,W,GAtWGqH,aC2DnBC,G,yDA/DX,WAAYvH,GAAQ,IAAD,8BACf,gBAEKI,MAAQ,CACToH,QAASxH,EAAMwH,QACfC,QAASzH,EAAMwH,SALJ,E,+DASA7E,EAAWC,EAAWC,GACjCF,EAAU6E,UAAYlG,KAAKtB,MAAMwH,SACjClG,KAAKiB,SAAS,CACViF,QAASlG,KAAKtB,MAAMwH,QACpBC,QAASnG,KAAKtB,MAAMwH,Y,qCAKjBhB,GAAO,IAEVgB,EAAYlG,KAAKlB,MAAjBoH,QAGFE,EAAalB,EAAMmB,OAAOC,MAChC,GAAmB,KAAfF,EAAJ,CAQA,IAAMD,EAAUD,EAAQK,QAAO,SAAAC,GAE3B,OADmBA,EAAK/I,YAAYgJ,cAClBC,SAASN,EAAWK,kBAI1CzG,KAAKiB,SAAS,CACVkF,QAASA,SAdTnG,KAAKiB,SAAS,CACVkF,QAASnG,KAAKlB,MAAMoH,Y,+BAkB5B,OACI,6BACI,kCAAQlG,KAAKtB,MAAMiI,MAAnB,KACA,yBAAK9J,UAAU,cACX,yBAAKA,UAAU,oBACX,2BAAO+J,KAAK,OAAOC,YAAa,YAAaC,QAAS9G,KAAK+G,eAAevH,KAAKQ,QAC/E,4BAAQgH,SAAUhH,KAAKtB,MAAMuI,SACzB,4DACCjH,KAAKlB,MAAMqH,QAAQ9I,KAAI,SAAC6J,GAAD,OACpB,4BAAQC,IAAKD,EAAM3J,SAAU+I,MAAOY,EAAM3J,UAAW2J,EAAMzJ,wB,GAvDlEuI,c,2BC4CVoB,G,OA1CF,SAAC,GAAkH,IAAD,IAA/GT,aAA+G,MAAvG,GAAuG,MAAnGU,mBAAmG,MAAvF,GAAuF,MAAnFL,gBAAmF,MAA1E,SAAC1I,GAAD,OAAO3B,QAAQ2D,IAAIhC,EAAE+H,OAAOC,QAA8C,MAAtCJ,eAAsC,MAA5B,GAA4B,EAAxBoB,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,YAAiB,EACjGxL,mBAAS,WADwF,mBACpHuK,EADoH,KAC7GkB,EAD6G,KAYvH/C,EAAiC,IAAvB4C,EAAYnH,OAAe,KACrC,kBAACuH,EAAA,EAAD,CACId,MACA,yBAAK9J,UAAU,WAAf,IACIwK,EAAYhK,KAAI,SAACqK,EAAMjH,GAAP,OAAkB,yBAAK0G,IAAK1G,GAAQiH,QAExD,kBAAC,IAAD,CAAUC,SAAS,WAS3B,OANAzL,qBAAU,WACHoL,GACCE,EAAS,aAEZ,CAACF,IAGF,yBAAKzK,UAAU,iBACX,8BAAO8J,EAAP,MACClC,EACD,4BAAQ6B,MAAOA,EAAOU,SA5BT,SAAA1I,IACJ,IAAVgJ,GACCC,IAEJC,EAASlJ,EAAE+H,OAAOC,OAClBU,EAAS1I,KAwBD,4BAAQgI,MAAM,WAAd,4BACCJ,EAAQ7I,KAAI,SAAC6J,GAAD,OACT,4BAAQC,IAAKD,EAAMC,IAAKb,MAAOY,EAAMZ,OAAQY,EAAMZ,cC3BxDsB,G,OATO,SAAClJ,GACnB,OACI,yBAAK7B,UAAU,mBACX,8BAAO6B,EAAMiI,MAAb,KACA,8BAAUL,MAAO5H,EAAMwH,QAAQ7I,KAAI,SAAC6J,EAAOW,GAAR,gBAAmBA,EAAM,EAAzB,aAA+BX,EAAMzJ,gBAAeuG,KAAK,MAAO8D,UAAQ,O,OCPhH,SAASC,EAAoB1J,EAAO2J,EAASC,GAChD,IAAIC,EAAc,IAAIC,IAoBtB,OAlBA9J,EAAMkC,SAAQ,SAAAC,GACV,IAAM2G,EAAMa,EAAQxH,GACd8F,EAAQ2B,EAAUzH,GAExB,GAAI0H,EAAYE,IAAIjB,GAAM,CAEtB,IAAIkB,EAAaH,EAAY9L,IAAI+K,GAGjCkB,EAAWC,IAAIhC,GACf4B,EAAYK,IAAIpB,EAAKkB,OAElB,CACH,IAAIA,EAAa,IAAItD,IACrBsD,EAAWC,IAAIhC,GACf4B,EAAYK,IAAIpB,EAAKkB,OAGtBH,ECKJ,SAASM,EAAsBC,EAAeC,EAAGpC,GACpD,SAASqC,EAAYF,EAAeG,GAChC,IAAMzL,EAAUsL,EAAc1I,EACxB9B,EAAQwK,EAAcxI,EAGtB4I,EAFQJ,EAAcpK,MAEJkI,OAAOqC,GACzBE,EAAWD,EAAUxL,KAAI,SAAAmD,GAAI,OAAIA,EAAKrC,WAI5C,MAAO,CACH4B,EAAG5C,EACH8C,EAJchC,EAAMsI,QAAO,SAACwC,GAAD,OAAUD,EAASpC,SAASqC,EAAK5K,YAK5DE,MAAOwK,GAIf,IAAIG,EACJ,OAAQ1C,GACJ,KAAK2C,EAAYC,KACbvM,QAAQwM,KAAR,mDAAyD7C,EAAzD,kBACA0C,EAAYL,EAAYF,GAAe,SAACjI,GAAD,MAA+B,MAArBA,EAAK4I,eACtD,MACJ,KAAKH,EAAYI,KACb1M,QAAQwM,KAAR,mDAAyD7C,EAAzD,kBACA0C,EAAYL,EAAYF,GAAe,SAACjI,GAAD,MAA+B,MAArBA,EAAK4I,eACtD,MACJ,QACIzM,QAAQwM,KAAR,gDAAsD7C,EAAtD,kBACA0C,EAAYP,EAGpB,OAAOO,EAIJ,SAASM,EAA2Bb,EAAeC,EAAGa,GACzD,IAAMzJ,EAAU2I,EAEZtL,EAAU2C,EAAQC,EAClByJ,EAAa1J,EAAQG,EACrB5B,EAAQyB,EAAQzB,MAEhBoL,EAAcD,EAAWE,MAAK,SAAAX,GAAI,OAAIA,EAAKtL,YAAYiJ,SAAS6C,MAMpE,QAJoBI,IAAhBF,IACAA,EAAcD,EAAWE,MAAK,SAAAX,GAAI,OAAIA,EAAKxL,WAAaqD,SAAS2I,YAGjDI,IAAhBF,EAEA,OADA9M,QAAQC,MAAM,kCACPkD,EAGX,IAAM8J,EAAmBH,EAAYlM,SAE/B8K,EAAahK,EAAMkI,QAAO,SAAA/F,GAAI,OAAIoJ,IAAqBpJ,EAAKrC,WAC7Dd,KAAI,SAAAmD,GAAI,OAAIA,EAAKhD,aAEhBqM,EAAmB1M,EAAQoJ,QAAO,SAAAjJ,GAAC,OAAI+K,EAAW3B,SAASpJ,EAAEE,cAE/DsM,EAAiBzL,EAAMkI,QACvB,SAAA/F,GAAI,OAAI6H,EAAW3B,SAASlG,EAAKhD,YAAcgD,EAAKrC,UAAYyL,KAEpEE,EAAevJ,SAAS,SAACC,GACjBA,EAAKrC,UAAYyL,IACjBpJ,EAAKE,WAAY,MAIzB,IAAMoI,EAAWgB,EAAezM,KAAI,SAAAmD,GAAI,OAAIA,EAAKrC,WAIjD,MAAO,CACH4B,EAAG8J,EACH5J,EAJmBuJ,EAAWjD,QAAO,SAAAwC,GAAI,OAAID,EAASpC,SAASqC,EAAK5K,YAKpEE,MAAOyL,GAIR,SAASC,EAAoBtB,EAAeuB,EAAUC,GACzD,IAAIC,EACJ,OAAQD,GACJ,KAAKE,EAAWC,KACZF,EAAc,SAACG,EAAGC,GAAJ,OAAqB,IAAXA,EAAEC,MAC1B,MACJ,KAAKJ,EAAWK,YACZN,EAAc,SAACG,EAAGC,GAAJ,OAAqB,IAAXD,EAAEE,MAAcD,EAAEC,KAAO,GACjD,MACJ,KAAKJ,EAAWM,OACZP,EAAc,SAACG,EAAGC,GAAJ,OAAUD,EAAEE,KAAO,GACjC,MACJ,QACI,OAAO9B,EAEf,OAIJ,SAA0BA,EAAeuB,EAAUzD,GAC/C,IAAMpJ,EAAUsL,EAAc1I,EAE1B2K,EAAgB,IAAIvC,IACxBhL,EAAQoD,SAAQ,SAACjD,GACboN,EAAcnC,IAAIjL,EAAEE,UAAWF,MAGnC,IAKIqN,EAAW9B,EAAW+B,EALpBvM,EAAQoK,EAAcpK,MACtBwM,EAAmB9C,EAAoBiC,EAAS3L,OAAO,SAAAC,GAAC,OAAIA,EAAEH,WAAS,SAAAG,GAAC,OAAIA,EAAEd,aAE9ES,EAAQwK,EAAcxI,EA4B5B,OAxBA0K,EAAY1M,EAAMsI,QAAO,SAACrI,GACtB,IAAMC,EAAUD,EAAEC,QACZkK,EAAawC,EAAiBzO,IAAI+B,GACpC2M,EAAc,IAAI/F,IAClBgG,EAAY,IAAIhG,IAWpB,OATAsD,EAAW9H,SAAQ,SAACwF,GAChB,IAAMiF,EAASN,EAActO,IAAI2J,QAClB4D,IAAXqB,IAGJF,EAAYxC,IAAZ,UAAmB0C,EAAOtN,eAC1BqN,EAAUzC,IAAV,UAAiB0C,EAAOtN,aAAxB,YAAwCsN,EAAOrN,iBAG5C4I,EAAOuE,EAAaC,MAG/BH,EAAeD,EAAUtN,KAAI,SAAA0L,GAAI,OAAIA,EAAK5K,WAE1C0K,EAAYxK,EAAMkI,QAAO,SAAC/F,GACtB,OAAOoK,EAAalE,SAASlG,EAAKrC,YAG/B,CACH4B,EAAG5C,EACH8C,EAAG0K,EACHtM,MAAOwK,GA9CJoC,CAAiBxC,EAAeuB,EAAUE,GAkD9C,IAAMC,EAAa,CACtBC,KAAM,OACNI,YAAa,cACbC,OAAQ,UAGCxB,EAAc,CACvBC,KAAM,YACNG,KAAM,aCnLH,SAAS6B,EAAwCzC,EAAeC,EAAGpC,GACtE,IAGI6E,EAAgBpD,EAHNU,EAAcpK,OAGmB,SAACC,GAAD,OAAOA,EAAEd,aAAW,SAACc,GAAD,OAAOA,EAAEH,WAEtEhB,EAAUsL,EAAc1I,EAAEwG,QAAO,SAACjJ,GACpC,IAAME,EAAYF,EAAEC,SACpB,OAAkB,IAAV+I,GAAiB6E,EAAc/C,IAAI5K,IAAe2N,EAAc/O,IAAIoB,GAAW+M,MAAQjE,KAG7FwD,EAAiBrB,EAAcpK,MAAMkI,QAAO,SAAC/F,GAC/C,IAAMhD,EAAYgD,EAAKhD,UACvB,OAAkB,IAAV8I,GAAiB6E,EAAc/C,IAAI5K,IAAe2N,EAAc/O,IAAIoB,GAAW+M,MAAQjE,KAInG,MAAO,CACHvG,EAAG5C,EACH8C,EAAGwI,EAAcxI,EACjB5B,MAAOyL,GAKR,SAASsB,EAA6B3C,EAAeC,EAAGa,GAC3D,IAAMzJ,EAAU2I,EAEZtL,EAAU2C,EAAQC,EAClByJ,EAAa1J,EAAQG,EACrB5B,EAAQyB,EAAQzB,MAEhBgN,EAAgBlO,EAAQuM,MAAK,SAAApM,GAAC,OAAIA,EAAEG,YAAYiJ,SAAS6C,MAM7D,QAJsBI,IAAlB0B,IACAA,EAAgBlO,EAAQuM,MAAK,SAAApM,GAAC,OAAIA,EAAEC,WAAaqD,SAAS2I,YAGxCI,IAAlB0B,EAEA,OADA1O,QAAQC,MAAM,kCACPkD,EAGX,IAAMwL,EAAqBD,EAAc9N,SAEnCuL,EAAWzK,EAAMkI,QAAO,SAAA/F,GAAI,OAAI8K,IAAuB9K,EAAKhD,aAC7DH,KAAI,SAAAmD,GAAI,OAAIA,EAAKrC,WAEhBoN,EAAiB/B,EAAWjD,QAAO,SAAAwC,GAAI,OAAID,EAASpC,SAASqC,EAAK5K,YAElE2L,EAAiBzL,EAAMkI,QACzB,SAAA/F,GAAI,OAAIsI,EAASpC,SAASlG,EAAKrC,UAAYqC,EAAKhD,YAAc6N,EAAc7N,aAEhFsM,EAAevJ,SAAQ,SAACC,GAChBA,EAAKhD,YAAc8N,IACnB9K,EAAKE,WAAY,MAIzB,IAAM2H,EAAayB,EAAezM,KAAI,SAAAmD,GAAI,OAAIA,EAAKhD,aAInD,MAAO,CACHuC,EAHqB5C,EAAQoJ,QAAO,SAAAyE,GAAM,OAAI3C,EAAW3B,SAASsE,EAAOxN,cAIzEyC,EAAGsL,EACHlN,MAAOyL,GCtDR,IAAM0B,EAAb,WACI,WAAYC,GACR,GADe,yBACF9B,IAAT8B,EAAmB,CACnB,IAAMnO,EAAImO,EAAKC,UACf1L,KAAK3C,IAAM,IAAI8K,IAAI7K,QAEnB0C,KAAK3C,IAAM,IAAI8K,IAN3B,yDAUiBwD,EAAaC,GAAgB,IAAD,uBAANC,EAAM,iCAANA,EAAM,kBACjC7L,KAAK3C,IAAI+K,IAAIuD,IACb3L,KAAK3C,IAAIyO,OAAOH,GAGpB,IAAMI,EAAe,SAACjN,EAAOtC,GAAR,OAAiBoP,EAAI,WAAJ,GAAK9M,EAAOtC,GAAZ,OAAqBqP,KAC3D7L,KAAK3C,IAAIkL,IAAIoD,EAAaI,KAhBlC,mCAmBiBJ,GACT,GAAI3L,KAAK3C,IAAI+K,IAAIuD,GACb,OAAO3L,KAAK3C,IAAIjB,IAAIuP,KArBhC,gCA2BQ,OAAO3L,KAAK3C,QA3BpB,K,SCZO,SAAS2O,GAAmBvD,EAAeuB,GAC9C,IAOoBiC,EAAM5O,EAPpBgB,EAAQoK,EAAcpK,MAExB0B,EAAI0I,EAAc1I,EAClBE,EAAIwI,EAAcxI,EAElBiM,EAAQnE,EAAoB1J,GAAO,SAACC,GAAD,OAAOA,EAAEC,WAAS,SAACD,GAAD,OAAOA,EAAEE,WAqBlE,MAAO,CACH,GApBgByN,EAoBAlM,EApBM1C,EAoBH6O,EAnBZD,EAAKE,MAAK,SAACC,EAAIC,GAClB,IAAMC,EAAMF,EAAG7O,SACTgP,EAAMF,EAAG9O,SAETiP,EAAQnP,EAAI+K,IAAIkE,GAAOjP,EAAIjB,IAAIkQ,GAAK/B,KAAO,EAC3CkC,EAAQpP,EAAI+K,IAAImE,GAAOlP,EAAIjB,IAAImQ,GAAKhC,KAAO,EAEjD,OAAIiC,EAAQC,EACD,EAEFD,EAAQC,GACL,EAGD,MAMf,EAAKxM,EACL,MAAS5B,GAIV,SAASqO,GAAmBjE,EAAeuB,GAC9C,IAOoBiC,EAAM5O,EAPpBgB,EAAQoK,EAAcpK,MAExB0B,EAAI0I,EAAc1I,EAClBE,EAAIwI,EAAcxI,EAElB0M,EAAQ5E,EAAoB1J,GAAO,SAACC,GAAD,OAAOA,EAAEE,WAAS,SAACF,GAAD,OAAOA,EAAEC,WAsBlE,MAAO,CACH,MAASF,EACT,EAAK0B,EACL,GAvBgBkM,EAuBAhM,EAvBM5C,EAuBHsP,EAtBZV,EAAKE,MAAK,SAACC,EAAIC,GAClB,IAAMC,EAAMF,EAAG7O,SACTgP,EAAMF,EAAG9O,SAETiP,EAAQnP,EAAI+K,IAAIkE,GAAOjP,EAAIjB,IAAIkQ,GAAK/B,KAAO,EAC3CkC,EAAQpP,EAAI+K,IAAImE,GAAOlP,EAAIjB,IAAImQ,GAAKhC,KAAO,EAEjD,OAAIiC,EAAQC,EACD,EAEFD,EAAQC,GACL,EAGD,OAYhB,SAASG,GAAmBnE,EAAeuB,GAC9C,IAAM3L,EAAQoK,EAAcpK,MAExB0B,EAAI0I,EAAc1I,EAClBE,EAAIwI,EAAcxI,EAElBF,EAAEG,OAAS,IACXH,EAAE,GAAG8M,IAAMtI,KAAKuI,UAGpB,IAAMjC,EAAmB9C,EAAoBiC,EAAS3L,OAAO,SAAAC,GAAC,OAAIA,EAAEH,WAAS,SAAAG,GAAC,OAAIA,EAAEd,aAEhFuP,EAAsB,IAAI5E,IAE1BuC,EAAgB,IAAIvC,IACxBpI,EAAEQ,SAAQ,SAACjD,GACPoN,EAAcnC,IAAIjL,EAAEE,UAAWF,MAGnC2C,EAAEM,SAAQ,SAASrC,EAAGuC,EAAOuM,GACzB,IAAM7O,EAAUD,EAAEC,QACZkK,EAAawC,EAAiBzO,IAAI+B,GACpC2M,EAAc,IAAI/F,IAClBgG,EAAY,IAAIhG,IAEpBsD,EAAW9H,SAAQ,SAACwF,GAChB,IAAMiF,EAASN,EAActO,IAAI2J,QAClB4D,IAAXqB,IAGJF,EAAYxC,IAAZ,UAAmB0C,EAAOtN,eAC1BqN,EAAUzC,IAAV,UAAiB0C,EAAOtN,aAAxB,YAAwCsN,EAAOrN,iBAG/CmN,EAAYP,KAAO,EACnBwC,EAAoBxE,IAAIrK,EAAEC,QAAS,KAET,IAArB2M,EAAYP,MAAcQ,EAAUR,KAAO,EAChDwC,EAAoBxE,IAAIrK,EAAEC,QAAS,KAEX,IAAnB4M,EAAUR,KACfwC,EAAoBxE,IAAIrK,EAAEC,QAAS,KAGnC4O,EAAoBxE,IAAIrK,EAAEC,QAAS,OA5Ca,qBAgDrCE,GAhDqC,yBAgD7CmC,EAhD6C,QAkD9CyJ,EAAY8C,EAAoB3Q,IAAIoE,EAAKrC,SAC/CqC,EAAKyJ,UAAYA,EAEjBzJ,EAAKxC,UAAY,WACb,OAAQwC,EAAKyJ,WACT,IAAK,IACD,MAAO,UACX,IAAK,IACD,MAAO,UACX,IAAK,IACD,MAAO,UACX,QACI,MAAO,WAdvB,2BAA2B,IAhD6B,8BAmExD,MAAO,CACH,MAAS5L,EACT,EAAK0B,EACL,EAAKE,GAIN,SAASgN,GAAqBxE,EAAeuB,GAChD,IAAM3L,EAAQoK,EAAcpK,MAExB0B,EAAI0I,EAAc1I,EAClBE,EAAIwI,EAAcxI,EAElBF,EAAEG,OAAS,IACXH,EAAE,GAAG8M,IAAMtI,KAAKuI,UAPsC,qBAUvCzO,GAVuC,yBAU/CmC,EAV+C,QAWtDA,EAAKxC,UAAY,WACb,OAAQwC,EAAI,aACR,IAAK,IACD,MAAO,UACX,IAAK,IACD,MAAO,UACX,QACI,MAAO,WARvB,2BAA2B,IAV+B,8BAuB1D,MAAO,CACH,MAASnC,EACT,EAAK0B,EACL,EAAKE,GAKN,SAASiN,GAAkBzE,EAAeuB,GAC7C,IAAIjK,EAAI0I,EAAc1I,EAChBE,EAAIwI,EAAcxI,EAClB5B,EAAQoK,EAAcpK,MAE5B,MAAO,CACH0B,EAAGA,EAAEoM,MAAK,SAACC,EAAIC,GACX,OAAID,EAAGvO,cAAgBwO,EAAGxO,cACf,EACDuO,EAAGvO,cAAgBwO,EAAGxO,eACpB,EAED,KAEfoC,EAAGA,EACH5B,MAAOA,GAIR,SAAS8O,GAAkB1E,EAAeuB,GAC7C,IAAMjK,EAAI0I,EAAc1I,EACpBE,EAAIwI,EAAcxI,EAChB5B,EAAQoK,EAAcpK,MAE5B,MAAO,CACH0B,EAAGA,EACHE,EAAGA,EAAEkM,MAAK,SAACC,EAAIC,GACX,OAAID,EAAGvO,cAAgBwO,EAAGxO,cACf,EACAuO,EAAGvO,cAAgBwO,EAAGxO,eACrB,EAED,KAGfQ,MAAOA,GAIR,SAAS+O,GAAsB3E,EAAeuB,GACjD,IAAIjK,EAAI0I,EAAc1I,EAClBE,EAAIwI,EAAcxI,EAChB5B,EAAQoK,EAAcpK,MAGxBgP,EAAoB,IAAIlF,IAGxB+D,EAAQnE,EAAoBiC,EAAS3L,OAAO,SAACC,GAAD,OAAOA,EAAEd,aAAW,SAACc,GAAD,OAAOA,EAAEH,WACzEmP,EAAkB,IAAInF,IAG1B6B,EAAS3L,MAAMkC,SAAQ,SAAAC,GACnB,IAAMuF,EAAKvF,EAAKrC,QACVoP,EAA8B,MAArB/M,EAAK4I,YACpBkE,EAAgB/E,IAAIxC,EAAIwH,MAI5B,IAAIC,EAAqB,EACrBC,EAAqB,EA2DzB,OAzDAH,EAAgB/M,SAAQ,SAAC+F,EAAOa,GACxBb,EACAmH,GAAsB,EAEtBD,GAAsB,KA8CH,IAAvBA,GAAmD,IAAvBC,IAC5BzD,EAASjK,EAAEQ,SAAQ,SAACmN,GAChBL,EAAkB9E,IAAImF,EAAKnQ,SA1CnC,SAAwByN,GACpB,IAAI2C,EAAS,EACTC,EAAS,EAEb,OAAK1B,EAAM9D,IAAI4C,EAAOzN,WAIV2O,EAAM9P,IAAI4O,EAAOzN,UAGvBgD,SAAQ,SAACpC,GACPmP,EAAgBlF,IAAIjK,IAAYmP,EAAgBlR,IAAI+B,GACpDwP,GAAU,EAEVC,GAAU,KAIVA,EAASJ,GAAwBG,EAAOF,EAAuBG,EAAOJ,KAdlE,EAqC6BK,CAAeH,OAExD3N,EAAeA,EApBHoM,MAAK,SAACC,EAAIC,GAClB,IAAMyB,EAAKT,EAAkBjR,IAAIgQ,EAAG7O,UAC9BwQ,EAAKV,EAAkBjR,IAAIiQ,EAAG9O,UAEhC,OAAIuQ,EAAKC,EACE,EACAD,EAAKC,GACJ,EAED,MAchB,CACH,MAAS1P,EACT,EAAK0B,EACL,EAAKE,G,ICuHE+N,G,kDAtYX,WAAYtP,GAAQ,IAAD,8BACf,gBACKI,MAAQ,CACTmP,gBAAiB,GACjBzR,KAAM,CACFuD,EAAG,GACHE,EAAG,GACH5B,MAAO,IAEX6P,QAAS,CAAC,IAAI1C,GACd2C,SAAU,GACVC,QAAS,GACTC,UAAU,EACV/G,OAAO,EACPgH,WAAW,EACXC,cAAe,GACfC,OAAQ,KACRC,kBAAmB,GACnBC,SAAU,IAGd,EAAKC,WAAa,EAAKA,WAAWnP,KAAhB,gBAClB,EAAK8H,MAAQ,EAAKA,MAAM9H,KAAX,gBACb,EAAKoP,gBAAkB,EAAKA,gBAAgBpP,KAArB,gBACvB,EAAK+H,YAAc,EAAKA,YAAY/H,KAAjB,gBACnB,EAAKqP,gBAAkB,EAAKA,gBAAgBrP,KAArB,gBAzBR,E,qGA4BG0F,G,8EACdlI,EAAekI,EAAMmB,OAAOC,MAEhCvJ,EAAcC,GACTV,MAAK,SAACE,GACH,EAAKyE,SAAS,CACVzE,KAAM,CACFuD,EAAGvD,EAAKW,QACR8C,EAAGzD,EAAKyB,MACRI,MAAO7B,EAAK6B,OAEhB6P,QAAS,CAAC,IAAI1C,QAGrB9O,OAAM,SAAA4B,GAAC,OAAI3B,QAAQC,MAAM0B,M,gRVlEnB,CACX,CAAE6I,IAAK,EAAGb,MAAO,mEACjB,CAAEa,IAAK,EAAGb,MAAO,8DACjB,CAAEa,IAAK,EAAGb,MAAO,uDACjB,CAAEa,IAAK,EAAGb,MAAO,kDACjB,CAAEa,IAAK,EAAGb,MAAO,mD,cUiEb6H,E,OACAnR,EAAemR,EAAS,GAAG7H,M,SAEdvJ,EAAcC,G,OAA3BR,E,OAEJwD,KAAKiB,SAAS,CACVgN,gBAAiBE,EAAS,GAAG7H,MAC7B6H,SAAUA,EACV3R,KAAM,CACFuD,EAAGvD,EAAKW,QACR8C,EAAGzD,EAAKyB,MACRI,MAAO7B,EAAK6B,OAEhB6P,QAAS,CAAC,IAAI1C,K,yIAMlB,KAAIxL,KAAKlB,MAAMoP,QAAQhO,QAAU,GAAjC,CAIA,IAAM4O,EAAc9O,KAAKlB,MAAMoP,QAAQa,MAAM,EAAG/O,KAAKlB,MAAMoP,QAAQhO,OAAS,GAC5EF,KAAKiB,SAAS,CACViN,QAASY,O,8BAKb9O,KAAKiB,SAAS,CACViN,QAAS,CAAC,IAAI1C,KAElBxL,KAAKiB,SAAS,CAACgN,gBAAiB,GAAIe,eAAgB,GAAI1H,OAAO,M,oCAI/DtH,KAAKiB,SAAS,CAACqG,OAAO,M,wCAItBtH,KAAKiB,SAAS,CAACuN,OAAQ,S,+BAGjB,IAAD,OACCN,EAAUlO,KAAKlB,MAAMoP,QAErBe,EAAqBf,EAAQA,EAAQhO,OAAS,GAE9CuI,EFxHP,SAAuBjM,EAAMiP,GAChC,IAAIyD,EAAgB,CAChBnP,EAAGoP,oBAAU3S,EAAKuD,GAClBE,EAAGkP,oBAAU3S,EAAKyD,GAClB5B,MAAO8Q,oBAAU3S,EAAK6B,QAK1B,OAHAoN,EAAKC,UAAUnL,SAAQ,SAACqL,EAAMnL,GAC1ByO,EAAgBtD,EAAKsD,EAAe1S,MAEjC0S,EE+GmBE,CAAapP,KAAKlB,MAAMtC,KAAMyS,GAC9C3P,EAAc4O,EAAQhO,OAAS,EAE/BmP,EAAe,SAACC,GAAD,OAAW,SAACpK,EAAOqK,GACpC,IAAMlB,IAAWkB,GAAaD,EAC9B,EAAKrO,SAAS,CACVoN,SAAUA,MAGlB,OACI,oCACA,yBAAKxR,UAAU,uBACJ4L,EAAc1I,EAAEG,QAAU,GAAOuI,EAAcxI,EAAEC,QAAU,IAC9D,kBAAC,EAAD,CACIH,EAAG0I,EAAc1I,EACjBE,EAAGwI,EAAcxI,EACjB5B,MAAOoK,EAAcpK,MACrBsB,cAAe,SAACuF,EAAO5C,GACnB,IAAIkN,EAAiB,IAAIhE,EAAYyD,GACrCO,EAAeC,aAAa,+BAAgCrE,EAA8B9I,EAAM7E,aAEhG,EAAKwD,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,MAG3C5P,YAAa,SAACsF,EAAO5C,GACjB,IAAIkN,EAAiB,IAAIhE,EAAYyD,GACrCO,EAAeC,aAAa,6BAA8BnG,EAA4BhH,EAAM7E,aAE5F,EAAKwD,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,MAG3C3P,aAAe,SAACqF,EAAO5C,GACnB4C,EAAMyK,iBAEN,EAAK1O,SAAS,CACVqN,WAAW,EACXC,cAAejM,EAAM7E,YACrB+Q,OAAQtJ,EAAMmB,OACdoI,kBAAmBnM,EAAM/E,YAGjC+B,YAAaA,EACbuG,OAAQ,UACRC,OAAQ,eAGhB,yBAAKC,GAAG,WACJ,uCACI,kBAAC6J,EAAA,EAAD,CAAWvB,SAAkC,WAAxBrO,KAAKlB,MAAMuP,SAAuBrH,SAAUqI,EAAa,WAC1E,kBAACQ,EAAA,EAAD,CACIC,WAAY,kBAAC,IAAD,MACZC,gBAAc,kBACdhK,GAAG,qBAEH,oDAEJ,kBAACiK,EAAA,EAAD,CAAkBnT,UAAU,mBACxB,kBAAC,EAAD,CAAM8J,MAAM,WACRK,SAAUhH,KAAK4O,gBACf1I,QAASlG,KAAKlB,MAAMqP,SACpB7G,MAAOtH,KAAKlB,MAAMwI,MAClBC,YAAavH,KAAKuH,gBAI9B,kBAACqI,EAAA,EAAD,CAAWvB,SAAkC,WAAxBrO,KAAKlB,MAAMuP,SAAuBrH,SAAUqI,EAAa,WAC9E,kBAACQ,EAAA,EAAD,CACIC,WAAY,kBAAC,IAAD,MACZC,gBAAc,kBACdhK,GAAG,qBAEH,0CAEJ,kBAACiK,EAAA,EAAD,CAAkBnT,UAAU,mBACxB,kBAAC,EAAD,CACI8J,MAAM,cACNK,SAAU,SAAC1I,GACP,IAAIkR,EAAiB,IAAIhE,EAAYyD,GACjCrD,EAAO,SAACpP,GAAD,OAAUA,GACrB,OAAO8B,EAAE+H,OAAOC,OACZ,IAAK,WACDsF,EAAOI,GACP,MACJ,IAAK,UACDJ,EAAOsB,GACP,MACJ,IAAK,iBACDtB,EAAOwB,GAKfoC,EAAeC,aAAa,YAAa7D,GAEzC,EAAK3K,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,MAG3CtJ,QAAS,CACT,CAAEiB,IAAK,EAAGb,MAAO,QACjB,CAAEa,IAAK,EAAGb,MAAO,YACjB,CAAEa,IAAK,EAAGb,MAAO,WACjB,CAAEa,IAAK,EAAGb,MAAO,mBAEjBgB,MAAOtH,KAAKlB,MAAMwI,MAClBC,YAAavH,KAAKuH,cAEtB,kBAAC,EAAD,CACIZ,MAAM,cACNK,SAAU,SAAC1I,GACP,IAAIkR,EAAiB,IAAIhE,EAAYyD,GACjCrD,EAAO,SAACpP,GAAD,OAAUA,GACrB,OAAQ8B,EAAE+H,OAAOC,OACb,IAAK,WACDsF,EAAOc,GACP,MACJ,IAAK,UACDd,EAAOuB,GAKfqC,EAAeC,aAAa,YAAa7D,GAEzC,EAAK3K,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,MAG3CtJ,QAAS,CACL,CAAEiB,IAAK,EAAGb,MAAO,QACjB,CAAEa,IAAK,EAAGb,MAAO,YACjB,CAAEa,IAAK,EAAGb,MAAO,YAErBgB,MAAOtH,KAAKlB,MAAMwI,MAClBC,YAAavH,KAAKuH,gBAI9B,kBAACqI,EAAA,EAAD,CAAWvB,SAAkC,WAAxBrO,KAAKlB,MAAMuP,SAAuBrH,SAAUqI,EAAa,WAC1E,kBAACQ,EAAA,EAAD,CACIC,WAAY,kBAAC,IAAD,MACZC,gBAAc,kBACdhK,GAAG,qBACH,+CAEJ,kBAACiK,EAAA,EAAD,CAAkBnT,UAAU,mBACxB,kBAAC,EAAD,CAAM8J,MAAM,YACRT,QAAS,CAAC,CAAEiB,IAAK,EAAGb,MAAO,OAAS,CAAEa,IAAKgD,EAAWC,KAAM9D,MAAO6D,EAAWC,MAAQ,CAAEjD,IAAKgD,EAAWK,YAAalE,MAAO6D,EAAWK,aAAe,CAAErD,IAAKgD,EAAWM,OAAQnE,MAAO6D,EAAWM,SAClMpD,YAAa,CAAC,gCACV,4BACA,+DACA,6FACA,qEAEJL,SAAU,SAAC9B,GACP,IAAM+E,EAAY/E,EAAMmB,OAAOC,MAC3BkJ,EAAiB,IAAIhE,EAAYyD,GACrCO,EAAeC,aAAa,sBAAuB1F,EAAqBE,GACxEuF,EAAeC,aAAa,0CACxBvE,EAAyC,GAE7C,EAAKjK,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,MAG3ClI,MAAOtH,KAAKlB,MAAMwI,MAClBC,YAAavH,KAAKuH,cAEtB,kBAAC,EAAD,CAAMZ,MAAM,mBACRT,QAAS,CACL,CAAEiB,IAAK,EAAGb,MAAO,OACjB,CAAEa,IAAK,EAAGb,MAAO2C,EAAYC,MAC7B,CAAE/B,IAAK,EAAGb,MAAO2C,EAAYI,OAEjChC,YAAa,CACT,gDACA,+DACA,8CACA,+CAEJL,SAAU,SAAC9B,EAAOzE,GACd,IAAM2I,EAAclE,EAAMmB,OAAOC,MAC7BkJ,EAAiB,IAAIhE,EAAYyD,GACrCO,EAAeC,aAAa,wBAAyBjH,EAAuBY,GAC5EoG,EAAeC,aAAa,0CACxBvE,EAAyC,GAE7C,EAAKjK,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,MAG3ClI,MAAOtH,KAAKlB,MAAMwI,MAClBC,YAAavH,KAAKuH,cAEtB,kBAAC,EAAD,CAAYZ,MAAM,eACdT,QAASuC,EAAcxI,EACvBgH,QAAS,SAAC/B,GACN,IAAMqE,EAAarE,EAAMmB,OAAOC,MAC5BkJ,EAAiB,IAAIhE,EAAYyD,GACrCO,EAAeC,aAAa,6BAA8BnG,EAA4BC,GACtFiG,EAAeC,aAAa,0CACxBvE,EAAyC,GAE7C,EAAKjK,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,UAMvD,kBAACI,EAAA,EAAD,CAAWvB,SAAkC,WAAxBrO,KAAKlB,MAAMuP,SAAuBrH,SAAUqI,EAAa,WAC1E,kBAACQ,EAAA,EAAD,CACIC,WAAY,kBAAC,IAAD,MACZC,gBAAc,kBACdhK,GAAG,qBAEH,iDAEJ,kBAACiK,EAAA,EAAD,CAAkBnT,UAAU,mBACxB,kBAAC,EAAD,CACI8J,MAAM,iBACNT,QAASuC,EAAc1I,EACvBkH,QAAS,SAAC/B,GACN,IAAMqE,EAAarE,EAAMmB,OAAOC,MAC5BkJ,EAAiB,IAAIhE,EAAYyD,GACrCO,EAAeC,aAAa,+BAAgCrE,EAA8B7B,GAC1FiG,EAAeC,aAAa,0CACxBvE,EAAyC,GAE7C,EAAKjK,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,UAMvD,kBAACI,EAAA,EAAD,CAAWvB,SAAkC,WAAxBrO,KAAKlB,MAAMuP,SAAuBrH,SAAUqI,EAAa,WAC1E,kBAACQ,EAAA,EAAD,CACIC,WAAY,kBAAC,IAAD,MACZC,gBAAc,kBACdhK,GAAG,qBAEH,gDAEJ,kBAACiK,EAAA,EAAD,CAAkBnT,UAAU,mBACxB,kBAAC,EAAD,CAAM8J,MAAM,uBACRT,QAAS,CACL,CAAEiB,IAAK,EAAGb,MAAO,aACjB,CAAEa,IAAK,EAAGb,MAAO,4BAErBU,SAAU,SAAC1I,EAAGmC,GAEV,IAAI+O,EAAiB,IAAIhE,EAAYyD,GACjCrD,EAAO,SAACpP,GAAD,OAAUA,GACrB,OAAQ8B,EAAE+H,OAAOC,OACb,IAAK,0BACDsF,EAAOgB,GACP,MACJ,IAAK,YACDhB,EAAOqB,GACP,MACJ,QACItQ,QAAQ2D,IAAR,UAAehC,EAAE+H,OAAOC,MAAxB,uBAGRkJ,EAAeC,aAAa,cAAe7D,GAE3C,EAAK3K,SAAS,CACViN,QAAS,EAAKpP,MAAMoP,QAAQwB,OAAOF,MAI3ClI,MAAOtH,KAAKlB,MAAMwI,MAClBC,YAAavH,KAAKuH,gBAK9B,kBAAC,EAAD,CAAeZ,MAAM,UAAUT,QAASuC,EAAc1I,IACtD,kBAAC,EAAD,CAAe4G,MAAM,QAAQT,QAASuC,EAAcxI,IAEpD,yBAAK8F,GAAG,iBACJ,4BAAQkB,QAASjH,KAAK2O,YAAtB,QACA,4BAAQ1H,QAASjH,KAAKsH,OAAtB,iB,GA7XKtB,aCZdiK,I,8KATP,OACI,yBAAKpT,UAAU,UACX,6BAAK,uBAAGqT,KAAK,wBAAuB,yBAAKC,IAAI,gBAAgBC,IAAI,4BACjE,6BAAK,uBAAGF,KAAK,gCAA+B,yBAAKC,IAAI,uBAAuBC,IAAI,kC,GAL3ExR,IAAMoH,YCSZqK,I,cATA,SAAC3R,GACZ,OACI,yBAAK7B,UAAU,UACX,4BAAM6B,EAAMiI,UCiBT2J,GAlBA,WACb,OACE,6BACE,kBAAC,IAAD,CAAMC,GAAG,KACP,kBAAC,GAAD,CAAQ5J,MAAM,cAEhB,4BACE,4BACE,kBAAC,IAAD,CAAM4J,GAAG,UAAT,UAEF,4BACE,kBAAC,IAAD,CAAMA,GAAG,kBAAT,qB,OCeKC,OAnBf,WACE,OACE,yBAAK3T,UAAU,OAEb,kBAAC,IAAD,CAAQ4T,SAAUpU,aAChB,kBAAC,GAAD,MACA,yBAAKQ,UAAU,aACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO6T,OAAK,EAACC,KAAK,IAAIC,UAAW9U,IACjC,kBAAC,IAAD,CAAO6U,KAAK,SAASC,UAAW9U,IAChC,kBAAC,IAAD,CAAO6U,KAAK,iBAAiBC,UAAW5C,QAI9C,kBAAC,GAAD,Q,OCpBN6C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.e81c02bb.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport axios from 'axios'\nimport './About.scss';\n\nconst About = () => {\n    let [ content, setContent ] = useState(null)\n\n    useEffect(() => {\n        axios.get(`${process.env.PUBLIC_URL}/content/about.md`)\n            .then(res => res.data)\n            .then(md_content => setContent(md_content))\n            .catch(console.error);\n        }\n    )\n    return (\n        <div className=\"content-wrapper\">\n            <ReactMarkdown source={content} />\n        </div>\n    )\n}\n\nexport default About;\n","import { json } from 'd3';\n\nexport const fetchProjects = () => {\n    let projects = [\n        { key: 0, value: 'commons-cli-experiment-9722ec17bf9dbd1deab299bdd6dfe038fedae3bd' },\n        { key: 1, value: 'jpacman-framework-2434427914fa957f65617a9e794510f0c6ada9f9' },\n        { key: 2, value: 'commons-io-29b70e156f9241b0c3e25896c931d1ef8725ad66' },\n        { key: 3, value: 'jsoup-89580cc3d25d0d89ac1f46b349e5cd315883dc79' },\n        { key: 4, value: 'maven-7a4b77b582913aad0ee941df8e86a5b83bc3eec8' } \n    ]\n    return projects;\n}\n\nexport const fetchCoverage = (project_name) => {\n    return json(`${process.env.PUBLIC_URL}/resources/${project_name}.json`)\n        .then((response) => {\n            return {\n                methods: response.coverage.methods.map(m => {\n                    m.get_id = () => m.method_id;\n                    m.to_string = () => `${m.package_name}.${m.class_name} ${m.method_decl}`;\n                    m.get_cluster = () => m.hasOwnProperty('cluster_id') ? m.cluster_id : 0;\n                    m.get_color = () => m.package_name\n                    return m;\n                }),\n                tests: response.coverage.tests.map(t => {\n                    t.get_id = () => t.test_id;\n                    t.to_string = () => `${t.class_name} ${t.method_name}`;\n                    t.get_cluster = () => t.hasOwnProperty('cluster_id') ? t.cluster_id : 0;\n                    t.get_color = () => t.class_name\n                    return t;\n                }),\n                edges: response.coverage.edges.map(e => {\n                    e.get_color = () => {\n                        switch (e[\"test_result\"]) {\n                            case \"P\":\n                                return \"#03C03C\";\n                            case \"F\":\n                                return \"#FF1C00\";\n                            default:\n                                return \"black\";\n                        }\n                    }\n                    e.get_x = () => e.method_id;\n                    e.get_y = () => e.test_id;\n\n                    return e;\n                }),\n            }\n        })\n        .catch(console.error);\n}","import React, { Component } from 'react';\nimport { axisTop, axisLeft } from 'd3-axis';\nimport { scalePoint, scaleOrdinal } from 'd3-scale';\nimport { select } from 'd3-selection';\nimport { transition } from 'd3-transition';\nimport { easeLinear } from 'd3-ease';\nimport { schemeSet3 } from 'd3-scale-chromatic';\nimport { isEqual } from 'lodash';\n\nclass MatrixVisualization extends Component {\n    constructor(props) {\n        super();\n\n        this.ref = React.createRef();\n\n        this.state = {\n            width: 0,\n            height: 0,\n        }\n\n        this.margin = {\n            top: 50,\n            left: 50,\n            right: 0,\n            bottom: 0\n        }\n\n        this.labelToggle = props.hasOwnProperty('labelToggle') ? props['labelToggle'] : false;\n\n        this.createMatrix = this.createMatrix.bind(this);\n        this.createTestMatrixView = this.createTestMatrixView.bind(this);\n        this.update = this.update.bind(this);\n\n        // Set all methods passed through properties here (we don't use bind because we want to make use of the parent this object.)\n        this.onMethodClick = props.onMethodClick;\n        this.onTestClick = props.onTestClick;\n        this.onRightClick = props.onRightClick;\n    }\n\n    createMatrix() {\n        const current = {\n            x: this.props.x,\n            y: this.props.y,\n            edges: this.props.edges,\n        }\n\n        if (current.x.length === 0 || current.y.length === 0) {\n            return {\n                x_labels: [],\n                y_labels: [],\n                nodes: []\n            };\n        }\n\n        let edges = []\n        console.log(current);\n\n        current.edges.forEach((edge, index) => {\n            if (!(edge.get_y() === null || edge.get_x() === null)){\n                const highlight = edge.hasOwnProperty('highlight') ? edge.highlight : false;\n\n                edges.push({ \n                    x: parseInt(edge.get_x()),\n                    y: parseInt(edge.get_y()),\n                    z: edge.get_color(),\n                    highlight: highlight});\n            }\n        });\n\n        return {\n            x_labels: current.x,\n            y_labels: current.y,\n            nodes: edges\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"resize\", () => {\n            setTimeout(500);\n            this.setState({\n                width: this.ref.current.parentElement.offsetWidth,\n                height: this.ref.current.parentElement.offsetHeight\n            }, this.update)\n        });\n\n        this.createTestMatrixView();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.ref.current !== null) {\n            const width = this.ref.current.parentElement.offsetWidth;\n            const height = this.ref.current.parentElement.offsetHeight;\n            if (this.state.width !== width || this.state.height !== height) {\n                console.log(\"COMPONENT DID UPDATE \")\n                this.setState({\n                    width: width,\n                    height: height,\n                }, this.update)\n            }\n        }\n        \n\n        if ((!isEqual(prevProps.x, this.props.x)) || (!isEqual(prevProps.y, this.props.y)) ) {\n            this.labelToggle = this.props.labelToggle;\n            this.onMethodClick = this.props.onMethodClick;\n            this.onTestClick = this.props.onTestClick;\n            this.update()\n\n        }\n    }\n\n    update () {\n        // Update viewBox to the state width and height\n        const node = this.ref.current;\n        let svg = select(node);\n        svg.attr(\"viewBox\", [0, 0, this.state.width, this.state.height]);\n\n        let data = this.createMatrix();\n\n        let vis_width = this.state.width - this.margin.left - this.margin.right -10;\n        let vis_height = this.state.height - this.margin.top - this.margin.bottom -10;\n\n        // Scales for X-axis\n        // TODO how to refactor the following so we can make use of a single scale instead of xScale and xLabel? \n        let xRange = scalePoint()\n            .padding(0.5)\n            .range([0, vis_width])\n\n        let xScale = xRange.copy()\n            .domain(data.x_labels.map((label) => parseInt(label.get_id())));\n\n        let xLabel = xRange.copy()\n            .domain(data.x_labels.map((label) => label.to_string()));\n\n        // Scales for Y-axis\n        // TODO how to refactor the following so we can make use of a single scale instead of yScale and yLabel?\n        let yRange = scalePoint()\n            .padding(0.5)\n            .range([0, vis_height])\n\n        let yScale = yRange.copy()\n            .domain(data.y_labels.map((label) => label.get_id()));\n\n        let yLabel = yRange.copy()\n            .domain(data.y_labels.map((label) => label.to_string()));\n\n        if (xLabel.step() !== xScale.step()) {\n            // Meaning duplicate class_name.method_name entries\n            console.error(\"xLabel and xScale step are not equal...\")\n        }\n        if (yLabel.step() !== yScale.step()) {\n            // Meaning duplicate class_name.method_name entries\n            console.error(\"yLabel and yScale step are not equal...\")\n        }\n\n        // Create tick format function, returns a function using the passed parameters.\n        function createTickFormatter(labelToggle, labelInterval) {\n            return  (label, i) => {\n                label = \"\";  \n                if (!labelToggle) {\n                    label = \"\";   \n                }\n\n                return i % labelInterval !== 0 ? \" \" : label;\n            }\n        }\n\n        // Create both axis\n        const max_labels = 20;\n        const x_tick_interval = data.x_labels.length <= max_labels ? 1 : data.x_labels.length / max_labels;\n        const y_tick_interval = data.y_labels.length <= max_labels ? 1 : data.x_labels.length / max_labels;\n\n        const x_toggle = data.x_labels.length <= max_labels && this.labelToggle;\n        const y_toggle = data.y_labels.length <= max_labels && this.labelToggle;\n\n        let xAxis = axisTop()\n            .tickFormat(createTickFormatter(x_toggle, x_tick_interval))\n            .scale(xLabel);\n\n        let yAxis = axisLeft()\n            .tickFormat(createTickFormatter(y_toggle, y_tick_interval))\n            .scale(yLabel);\n\n        const t = transition()\n            .duration(0)\n            .ease(easeLinear);\n\n        let rectWidth = xLabel.step()\n        let rectHeight = yLabel.step()\n\n        select(\"g.testmatrix\")\n            .attr(\"transform\", `translate(${this.margin.left}, ${this.margin.top})`)\n            .selectAll('.cell')\n            .data(data.nodes)\n            .join(\n                enter => enter.append(\"rect\").call(enter => enter\n                    .transition(t)\n                        .attr(\"x\", (d) => xScale(d.x) - rectWidth/2)\n                    .transition(t)\n                        .attr(\"y\", (d) => yScale(d.y) - rectHeight/2)\n                ),\n                update => update.call(update => update\n                    .transition(t)\n                        .attr(\"x\", (d) => xScale(d.x) - rectWidth / 2)\n                    .transition(t)\n                        .attr(\"y\", (d) => yScale(d.y) - rectHeight / 2)\n                ),\n                exit => exit.remove()\n                )\n                .attr(\"class\", \"cell\")\n                .attr(\"fill\", (d) => d.z)\n                .attr(\"width\", rectWidth)\n                .attr(\"height\", rectHeight)\n                .attr(\"rx\", Math.max(1, xScale.step()/2))\n                .attr(\"stroke\", (d) => d.highlight ? 'black' : null)\n                .attr(\"stoke-width\", (d) => d.highlight ? '1px' : '0px')\n                // TODO add tooltip when hovering over a edge\n\n        // Tooltip\n        let tooltip = svg.select(\".tooltip\")\n            .style(\"visibility\", 'hidden')\n\n        tooltip.append(\"text\")\n            .attr(\"id\", \"tooltip-text\")\n            .style(\"font-size\", \"12px\")\n\n        // Add X and Y axis to the visualization\n        select(\"g.x-axis\")\n            .attr(\"transform\", `translate(${this.margin.left}, ${this.margin.top})`)\n            .call(xAxis);\n\n        const colorX = (d) => {\n            const scale = scaleOrdinal(schemeSet3).domain(Array.from(new Set(data.x_labels.map((d) => d.get_color()))));\n            return scale(d);\n        }\n\n        // Add circler around ticks\n        select(\"g.x-axis\")\n            .selectAll('.axis-dots-x')\n            .data(data.x_labels)\n            .join(\n                enter => enter.append('circle').call(enter => enter\n                    .attr('cx', (d) => xLabel(d.to_string()) + \"px\")\n                ),\n                update => update.call(update => update\n                    .attr('cx', (d) => xLabel(d.to_string()) + \"px\")\n                ),\n                exit => exit.remove()\n            )\n                .attr(\"class\", \"axis-dots-x\")\n                .attr('cy', -10)\n                .attr('r', 5)\n                .style('stroke', 'black')\n                .style('stroke-width', '1')\n                .style('fill', (d) => colorX(d.get_color()))\n                .on('mouseover', (event, d) => {\n                    let text_width = 0; \n                    tooltip\n                        .style(\"visibility\", \"visible\")\n                        .select(\"#tooltip-text\")\n                        .text(d.to_string())\n                            .attr(\"y\", event.layerY - (this.margin.top / 4) + \"px\")\n                            .each((d, i) => {\n                                text_width = select(\"#tooltip-text\").node().getComputedTextLength();\n                            })\n                            .attr(\"transform\", \"\")\n                            .attr(\"x\", () => {\n                                let x_location = event.layerX - (text_width / 2) + 10;\n                                if (x_location < 10){\n                                    x_location = 10;\n                                }\n                                return x_location + \"px\";\n                            })\n                })\n                .on('mouseout', (event, d) => {\n                    tooltip\n                        .style(\"visibility\", \"hidden\");\n                })\n                .on('click', this.onMethodClick)\n                .on('contextmenu', this.onRightClick);\n        select(\"g.y-axis\")\n            .attr(\"transform\", `translate(${this.margin.left}, ${this.margin.top})`)\n            .call(yAxis);\n\n        const colorY = (d) => {\n            const scale = scaleOrdinal(schemeSet3).domain(Array.from(new Set(data.y_labels.map((d) => d.get_color()))));\n            return scale(d);\n        }\n\n        select(\"g.y-axis\")\n            .selectAll('.axis-dots-y')\n            .data(data.y_labels)\n            .join(\n                    enter => enter.append('circle').call(enter => enter\n                        .attr('cy', (d) =>  yLabel(d.to_string()) +  \"px\")\n                    ),\n                    update => update.call(update => update\n                        .attr('cy', (d) => yLabel(d.to_string()) + \"px\")\n                    ),\n                    exit => exit.remove()\n                )\n                .attr(\"class\", \"axis-dots-y\")\n                .attr('cx', -10)\n                .attr('r', 5)\n                .style('stroke', 'black')\n                .style('stroke-width', '1')\n                .style('fill', (d) => colorY(d.get_color()))\n                .on('mouseover', (event, d) => {\n                    let translateY = yLabel(d.to_string());\n                    let translateX = this.margin.left/2\n                    let text_width = 0;\n                    tooltip\n                        .style(\"visibility\", \"visible\")\n                        .select(\"#tooltip-text\")\n                            .each((d, i) => {\n                                text_width = select(\"#tooltip-text\").node().getComputedTextLength();\n                            })\n                            .text(d.to_string())\n                            .attr(\"x\", 0)\n                            .attr(\"y\", 0)\n                        .attr(\"transform\", (d) => {\n                            translateY = translateY + this.margin.top + text_width / 2;\n                            return `translate(${translateX}, ${translateY})rotate(-90)`;\n                        });\n                })\n                .on('mouseout', (event, d) => {\n                    tooltip\n                        .style(\"visibility\", \"hidden\");\n                })\n                .on('click', this.onTestClick);\n\n        // text label for the x axis\n        svg.select(\".xlabel\")\n            .attr(\"x\", this.state.width / 2)\n            .attr(\"y\", 11)\n            .style(\"text-anchor\", \"middle\")\n            .text(this.props.xlabel);\n\n        // text label for the y axis\n        svg.select(\".ylabel\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .attr(\"y\", 1)\n            .attr(\"x\", -this.state.height / 2)\n            .attr(\"dy\", \"0.7em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(this.props.ylabel);\n    }\n\n    createTestMatrixView() {\n        const node = this.ref.current;\n\n        let svg = select(node);\n        svg.attr(\"viewBox\", [0, 0, this.state.width, this.state.height]);\n\n        svg.append(\"g\").attr(\"class\", \"x-axis\");\n        svg.append(\"g\").attr(\"class\", \"y-axis\");\n        svg.append(\"g\").attr(\"class\", \"testmatrix\");\n        svg.append(\"g\").attr(\"class\", \"tooltip\");\n\n        // Create empty labels, they are updated within the update function.\n        svg.append(\"text\").attr(\"class\", \"xlabel\");\n        svg.append(\"text\").attr(\"class\", \"ylabel\");\n    }\n\n    render() {\n        return (\n            <div id='visualization'>\n                <svg ref={this.ref}></svg>\n            </div>\n        )\n    }\n}\n\nexport default MatrixVisualization;","import React, { Component } from 'react'\nimport './FilterMenu.scss'\n\nclass FilterMenu extends Component {\n\n    constructor(props) {\n        super();\n\n        this.state = {\n            entries: props.entries,\n            display: props.entries,\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot){\n        if (prevProps.entries !== this.props.entries) {\n            this.setState({\n                entries: this.props.entries,\n                display: this.props.entries,\n            })\n        }\n    }\n\n    filterFunction(event) {\n        // Get entry list\n        const { entries } = this.state;\n\n        // Get typed input\n        const user_input = event.target.value;\n        if (user_input === \"\") {\n            this.setState({\n                display: this.state.entries,\n            })\n            return;\n        }\n\n        // Filter entry list based on what hsa been typed\n        const display = entries.filter(item => {\n            const method_str = item.to_string().toLowerCase();\n            return method_str.includes(user_input.toLowerCase());\n        })\n\n        // Repopulate the list based on what was typed.\n        this.setState({\n            display: display\n        })\n    }\n\n    render () {\n        return (\n            <div>\n                <span> {this.props.title} </span>\n                <div className=\"filtermenu\">\n                    <div className=\"dropdown-content\">\n                        <input type=\"text\" placeholder={\"Search...\"} onKeyUp={this.filterFunction.bind(this)}></input>\n                        <select onChange={this.props.onClick}>\n                            <option> -- select an option -- </option>\n                            {this.state.display.map((entry) => (\n                                <option key={entry.get_id()} value={entry.get_id()}>{entry.to_string()}</option>\n                            ))}\n                        </select>\n                    </div>\n                </div>\n            </div> \n        )\n    }\n}\n\nexport default FilterMenu;","import React, {useState, useEffect} from 'react'\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpIcon from '@material-ui/icons/Help';\nimport './Menu.scss'\n\nconst Menu = ({ title = \"\", description=[], onChange=(e) => console.log(e.target.value), entries = [], reset, updateReset}) => {\n    const [value, setValue] = useState(\"default\");\n\n    const handleChange = e =>{\n        if(reset === true){\n            updateReset();\n        }\n        setValue(e.target.value);\n        onChange(e); \n         \n    }\n\n    let tooltip = description.length === 0 ? null : (\n        <Tooltip\n            title={\n            <div className=\"content\"> {\n                description.map((line, index) => (<div key={index}>{line}</div>))}\n            </div>}>\n            <HelpIcon fontSize=\"small\" />\n        </Tooltip>\n    )\n    useEffect(() => {\n        if(reset) {\n            setValue(\"default\")\n        }\n      }, [reset]); // Only re-run the effect if reset changes\n\n    return (\n        <div className=\"menu-selector\">\n            <span>{title}: </span>\n            {tooltip}\n            <select value={value} onChange={handleChange}>\n                <option value=\"default\"> -- select an option -- </option>\n                {entries.map((entry) => (\n                    <option key={entry.key} value={entry.value}>{entry.value}</option>\n                    \n                ))}\n            </select>\n        </div>\n    )\n\n}\nexport default Menu;","import React from 'react'\nimport './ResultTextBox.scss'\n    \nconst ResultTextBox = (props) => {\n    return (\n        <div className=\"result-text-box\">\n            <span>{props.title}:</span>\n            <textarea value={props.entries.map((entry, idx) => `${idx + 1}. ${entry.to_string()}`).join('\\n')} readOnly />\n        </div>\n    )\n}\n\nexport default ResultTextBox;","export function create_coverage_map(edges, get_key, get_value) {\n    let test_id_map = new Map()\n\n    edges.forEach(edge => {\n        const key = get_key(edge)\n        const value = get_value(edge)\n\n        if (test_id_map.has(key)) {\n            //  Get current Set of methods test covers\n            let method_ids = test_id_map.get(key)\n\n            // Add new method id to set and update map\n            method_ids.add(value)\n            test_id_map.set(key, method_ids)\n\n        } else {\n            let method_ids = new Set();\n            method_ids.add(value);\n            test_id_map.set(key, method_ids)\n        }\n    });\n    return test_id_map;\n}","import { create_coverage_map } from './filter_utils'\n\nexport function filter_by_num_method_covered(current_state, _, value) {\n    const edges = current_state.edges;\n\n     // Map test_id to methods it covers\n    let test_id_map = create_coverage_map(edges, (e) => e.test_id, e => e.method_id);\n\n    const tests = current_state.y.filter((test) => {\n        const test_id = test.get_id();\n        return (value === 0) || (test_id_map.has(test_id) && (test_id_map.get(test_id).size >= value));\n    })\n\n    const filtered_edges = current_state.edges.filter((edge) => {\n        const test_id = edge.test_id;\n        return (value === 0) || (test_id_map.has(test_id) && (test_id_map.get(test_id).size >= value));\n    });\n\n    return {\n        x: current_state.x,\n        y: tests,\n        edges: filtered_edges,\n    }\n}\n\n\nexport function filter_by_test_passed(current_state, _, value) {\n    function test_filter(current_state, predicate) {\n        const methods = current_state.x;\n        const tests = current_state.y;\n        const edges = current_state.edges;\n\n        const new_edges = edges.filter(predicate)\n        const test_ids = new_edges.map(edge => edge.test_id)\n\n        const new_tests = tests.filter((test) => test_ids.includes(test.test_id))\n\n        return {\n            x: methods,\n            y: new_tests,\n            edges: new_edges,\n        }\n    }\n\n    let new_state;\n    switch (value) {\n        case TEST_RESULT.PASS:\n            console.info(`Filter all test methods that fail Index: ${value}, was chosen.`);\n            new_state = test_filter(current_state, (edge) => edge.test_result === \"P\")\n            break;\n        case TEST_RESULT.FAIL:\n            console.info(`Filter all test methods that pass Index: ${value}, was chosen.`);\n            new_state = test_filter(current_state, (edge) => edge.test_result === \"F\")\n            break;\n        default:\n            console.info(`No methods have been filtered. Index: ${value}, was chosen.`);\n            new_state = current_state;\n    }\n\n    return new_state;\n}\n\n\nexport function filter_by_coexecuted_tests(current_state, _, identifier) {\n    const current = current_state;\n\n    let methods = current.x;\n    let test_cases = current.y;\n    let edges = current.edges;\n\n    let filter_test = test_cases.find(test => test.to_string().includes(identifier));\n\n    if (filter_test === undefined) {\n        filter_test = test_cases.find(test => test.get_id() === parseInt(identifier));\n    }\n\n    if (filter_test === undefined) {\n        console.error(\"Filter Method was not found...\");\n        return current;\n    }\n\n    const filtered_test_id = filter_test.get_id();\n\n    const method_ids = edges.filter(edge => filtered_test_id === edge.test_id)\n        .map(edge => edge.method_id);\n\n    const filtered_methods = methods.filter(m => method_ids.includes(m.method_id))\n\n    let filtered_edges = edges.filter(\n        edge => method_ids.includes(edge.method_id) || edge.test_id === filtered_test_id)\n\n    filtered_edges.forEach( (edge) => {\n        if (edge.test_id === filtered_test_id) {\n            edge.highlight = true;\n        }\n    })\n\n    const test_ids = filtered_edges.map(edge => edge.test_id)\n\n    const filtered_tests = test_cases.filter(test => test_ids.includes(test.test_id));\n\n    return {\n        x: filtered_methods,\n        y: filtered_tests,\n        edges: filtered_edges\n    }\n}\n\nexport function filter_by_test_type(current_state, all_data, test_type) {\n    let filter_type;\n    switch (test_type) {\n        case TEST_TYPES.UNIT:\n            filter_type = (p, c) => c.size === 1;\n            break;\n        case TEST_TYPES.INTEGRATION:\n            filter_type = (p, c) => p.size === 1 && c.size > 1\n            break;\n        case TEST_TYPES.SYSTEM:\n            filter_type = (p, c) => p.size > 1;\n            break;\n        default:\n            return current_state;\n    }\n    return test_type_filter(current_state, all_data, filter_type);\n}\n\n\nfunction test_type_filter(current_state, all_data, filter) {\n    const methods = current_state.x;\n\n    let map_method_id = new Map();\n    methods.forEach((m) => {\n        map_method_id.set(m.method_id, m)\n    })\n\n    const edges = current_state.edges;\n    const test_to_meth_map = create_coverage_map(all_data.edges, e => e.test_id, e => e.method_id)\n\n    const tests = current_state.y;\n\n    let new_tests, new_edges, new_test_ids;\n\n    new_tests = tests.filter((t) => {\n        const test_id = t.test_id;\n        const method_ids = test_to_meth_map.get(test_id)\n        let package_set = new Set();\n        let class_set = new Set();\n\n        method_ids.forEach((id) => {\n            const method = map_method_id.get(id);\n            if (method === undefined) {\n                return;\n            }\n            package_set.add(`${method.package_name}`)\n            class_set.add(`${method.package_name}.${method.class_name}`)\n        });\n\n        return filter(package_set, class_set);\n    });\n\n    new_test_ids = new_tests.map(test => test.test_id);\n\n    new_edges = edges.filter((edge) => {\n        return new_test_ids.includes(edge.test_id)\n    });\n\n    return {\n        x: methods,\n        y: new_tests,\n        edges: new_edges,\n    }\n}\n\nexport const TEST_TYPES = {\n    UNIT: 'Unit',\n    INTEGRATION: 'Integration',\n    SYSTEM: 'System',\n}\n\nexport const TEST_RESULT = {\n    PASS: 'Only Pass',\n    FAIL: 'Only Fail',\n}\n","import { create_coverage_map } from './filter_utils'\n\nexport function filter_method_by_number_of_times_tested(current_state, _, value) {\n    const edges = current_state.edges;\n\n    // Map method_id to tests its covered by.\n    let method_id_map = create_coverage_map(edges, (e) => e.method_id, (e) => e.test_id)\n\n    const methods = current_state.x.filter((m) => {\n        const method_id = m.get_id();\n        return (value === 0) || (method_id_map.has(method_id) && (method_id_map.get(method_id).size >= value));\n    })\n\n    const filtered_edges = current_state.edges.filter((edge) => {\n        const method_id = edge.method_id;\n        return (value === 0) || (method_id_map.has(method_id) && (method_id_map.get(method_id).size >= value));\n    });\n\n    \n    return {\n        x: methods,\n        y: current_state.y,\n        edges: filtered_edges,\n    }\n}\n\n\nexport function filter_by_coexecuted_methods(current_state, _, identifier) {\n    const current = current_state;\n\n    let methods = current.x;\n    let test_cases = current.y;\n    let edges = current.edges;\n\n    let filter_method = methods.find(m => m.to_string().includes(identifier));\n\n    if (filter_method === undefined) {\n        filter_method = methods.find(m => m.get_id() === parseInt(identifier));\n    }\n\n    if (filter_method === undefined) {\n        console.error(\"Filter Method was not found...\");\n        return current;\n    }\n\n    const filtered_method_id = filter_method.get_id();\n\n    const test_ids = edges.filter(edge => filtered_method_id === edge.method_id)\n        .map(edge => edge.test_id);\n\n    const filtered_tests = test_cases.filter(test => test_ids.includes(test.test_id))\n\n    const filtered_edges = edges.filter(\n        edge => test_ids.includes(edge.test_id) || edge.method_id === filter_method.method_id)\n\n    filtered_edges.forEach((edge) => {\n        if (edge.method_id === filtered_method_id) {\n            edge.highlight = true;\n        }\n    })\n\n    const method_ids = filtered_edges.map(edge => edge.method_id)\n\n    const filtered_methods = methods.filter(method => method_ids.includes(method.method_id));\n\n    return {\n        x: filtered_methods,\n        y: filtered_tests,\n        edges: filtered_edges\n    }\n}","import {cloneDeep} from 'lodash';\n\nexport function process_data (data, fmap) {\n    let filtered_data = {\n        x: cloneDeep(data.x),\n        y: cloneDeep(data.y),\n        edges: cloneDeep(data.edges),\n    };\n    fmap.get_map().forEach((func, index) => {\n        filtered_data = func(filtered_data, data);\n    })\n    return filtered_data\n}\n\nexport class FunctionMap {\n    constructor(fmap) {\n        if (fmap !== undefined){\n            const m = fmap.get_map();\n            this.map = new Map(m);\n        } else {\n            this.map = new Map();\n        }\n    }\n\n    add_function(function_id, func, ...args) {\n        if (this.map.has(function_id)) {\n            this.map.delete(function_id);\n        }\n\n        const wrapped_func = (state, data) => func(state, data, ...args)\n        this.map.set(function_id, wrapped_func);\n    }\n\n    get_function(function_id) {\n        if (this.map.has(function_id)) {\n            return this.map.get(function_id)\n        }\n        return;\n    }\n\n    get_map(){\n        return this.map;\n    }\n}","import { create_coverage_map } from './filter_utils'\n\nexport function sort_by_coverage_X(current_state, all_data) {\n    const edges = current_state.edges;\n\n    let x = current_state.x;\n    let y = current_state.y;\n\n    let x_map = create_coverage_map(edges, (e) => e.get_x(), (e) => e.get_y())\n\n    function sort_array(list, map){\n        return list.sort((e1, e2) => {\n            const id1 = e1.get_id();\n            const id2 = e2.get_id();\n\n            const size1 = map.has(id1) ? map.get(id1).size : 0;\n            const size2 = map.has(id2) ? map.get(id2).size : 0;\n\n            if (size1 < size2) {\n                return 1;\n            }\n            else if (size1 > size2){\n                return -1;\n            }\n            else {\n                return 0;\n            }\n        })\n    }\n    return {\n        \"x\": sort_array(x, x_map),\n        \"y\": y,\n        \"edges\": edges,\n    }\n}\n\nexport function sort_by_coverage_Y(current_state, all_data) {\n    const edges = current_state.edges;\n\n    let x = current_state.x;\n    let y = current_state.y;\n\n    let y_map = create_coverage_map(edges, (e) => e.get_y(), (e) => e.get_x())\n\n    function sort_array(list, map) {\n        return list.sort((e1, e2) => {\n            const id1 = e1.get_id();\n            const id2 = e2.get_id();\n\n            const size1 = map.has(id1) ? map.get(id1).size : 0;\n            const size2 = map.has(id2) ? map.get(id2).size : 0;\n\n            if (size1 < size2) {\n                return 1;\n            }\n            else if (size1 > size2) {\n                return -1;\n            }\n            else {\n                return 0;\n            }\n        })\n    }\n\n    return {\n        \"edges\": edges,\n        \"x\": x,\n        \"y\": sort_array(y, y_map),\n    }\n}\n\nexport function color_by_test_type(current_state, all_data) {\n    const edges = current_state.edges;\n\n    let x = current_state.x;\n    let y = current_state.y;\n\n    if (x.length > 0) {\n        x[0].boo = Math.random(); // causes a state change; and hence a render\n    }\n\n    const test_to_meth_map = create_coverage_map(all_data.edges, e => e.test_id, e => e.method_id)\n\n    let test_id_to_type_map = new Map();\n\n    let map_method_id = new Map();\n    x.forEach((m) => {\n        map_method_id.set(m.method_id, m)\n    })\n\n    y.forEach(function(t, index, array) {\n        const test_id = t.test_id;\n        const method_ids = test_to_meth_map.get(test_id)\n        let package_set = new Set();\n        let class_set = new Set();\n\n        method_ids.forEach((id) => {\n            const method = map_method_id.get(id);\n            if (method === undefined) {\n                return;\n            }\n            package_set.add(`${method.package_name}`)\n            class_set.add(`${method.package_name}.${method.class_name}`)\n        });\n\n        if (package_set.size > 1) {\n            test_id_to_type_map.set(t.test_id, \"S\");\n        }\n        else if (package_set.size === 1 && class_set.size > 1) {\n            test_id_to_type_map.set(t.test_id, \"I\");\n        }\n        else if (class_set.size === 1) {\n            test_id_to_type_map.set(t.test_id, \"U\");\n        }\n        else {\n            test_id_to_type_map.set(t.test_id, \"\");\n        }\n    });\n\n    for (const edge of edges) {\n\n        const test_type = test_id_to_type_map.get(edge.test_id);\n        edge.test_type = test_type\n\n        edge.get_color = () => {\n            switch (edge.test_type) {\n                case \"S\":\n                    return \"#9033ff\";\n                case \"I\":\n                    return \"#eb8c06\";\n                case \"U\":\n                    return \"#02ae5e\";\n                default:\n                    return \"black\";\n            }\n        }\n    }\n\n    return {\n        \"edges\": edges,\n        \"x\": x,\n        \"y\": y,\n    }\n}\n\nexport function color_by_test_result(current_state, all_data) {\n    const edges = current_state.edges;\n\n    let x = current_state.x;\n    let y = current_state.y;\n\n    if (x.length > 0) {\n        x[0].boo = Math.random(); // causes a state change; and hence a render\n    }\n\n    for (const edge of edges) {\n        edge.get_color = () => {\n            switch (edge[\"test_result\"]) {\n                case \"P\":\n                    return \"#03C03C\";\n                case \"F\":\n                    return \"#FF1C00\";\n                default:\n                    return \"black\";\n            }\n        }\n    }\n\n    return {\n        \"edges\": edges,\n        \"x\": x,\n        \"y\": y,\n    }\n}\n\n\nexport function sort_by_cluster_X(current_state, all_data) {\n    let x = current_state.x;\n    const y = current_state.y;\n    const edges = current_state.edges;\n\n    return {\n        x: x.sort((e1, e2) => {\n            if (e1.get_cluster() < e2.get_cluster()){\n                return 1;\n            } else if(e1.get_cluster() > e2.get_cluster()) {\n                return -1\n            } else {\n                return 0;\n            }}),\n        y: y,\n        edges: edges,\n    }\n}\n\nexport function sort_by_cluster_Y(current_state, all_data) {\n    const x = current_state.x;\n    let y = current_state.y;\n    const edges = current_state.edges;\n\n    return {\n        x: x,\n        y: y.sort((e1, e2) => {\n            if (e1.get_cluster() < e2.get_cluster()) {\n                return 1;\n            } else if (e1.get_cluster() > e2.get_cluster()) {\n                return -1\n            } else {\n                return 0;\n            }\n        }),\n        edges: edges,\n    }\n}\n\nexport function sort_by_suspciousness(current_state, all_data) {\n    let x = current_state.x;\n    let y = current_state.y;\n    const edges = current_state.edges;\n\n    // suspiciousness map\n    let suspciousness_map = new Map();\n\n    // Create Maps One method id to test id and one test id to test result\n    let x_map = create_coverage_map(all_data.edges, (e) => e.method_id, (e) => e.test_id)\n    let test_result_map = new Map()\n\n    // Create a map of testing results 'test_id' --> result\n    all_data.edges.forEach(edge => {\n        const id = edge.test_id;\n        const result = edge.test_result === \"P\";\n        test_result_map.set(id, result)\n    });\n\n    // Compute the number tests passed/failed.\n    let total_tests_failed = 0;\n    let total_tests_passed = 0;\n\n    test_result_map.forEach((value, key) => {\n        if (value) {\n            total_tests_passed += 1;\n        } else {\n            total_tests_failed += 1;\n        }\n    });\n\n\n    // Tarantula Suspciousness calculation\n    function suspiciousness(method) {\n        let passed = 0;\n        let failed = 0;\n\n        if (!x_map.has(method.get_id())) {\n            return -1;\n        }\n\n        let tests = x_map.get(method.get_id())\n\n        // Compute passed/failed testcases\n        tests.forEach((test_id) => {\n            if (test_result_map.has(test_id) && test_result_map.get(test_id)) {\n                passed += 1;\n            } else {\n                failed += 1;\n            }\n        });\n\n        return (failed / total_tests_failed) / ((passed/total_tests_passed) + (failed/total_tests_failed))\n    }\n\n    // Sort based on suspiciosness of each test\n    function sort_array(list) {\n        return list.sort((e1, e2) => {\n            const s1 = suspciousness_map.get(e1.get_id())\n            const s2 = suspciousness_map.get(e2.get_id())\n\n                if (s1 < s2) {\n                    return 1;\n                } else if (s1 > s2){\n                    return -1\n                } else {\n                    return 0;\n                }\n            }\n        )\n    }\n\n    // If all tests fail or all tests pass don't compute suspciousness score, because it will fail.\n    if (total_tests_failed !== 0 && total_tests_passed !== 0) {\n        all_data.x.forEach((elem) => {\n            suspciousness_map.set(elem.get_id(), suspiciousness(elem));\n        });\n        x = sort_array(x);\n    }\n\n    return {\n        \"edges\": edges,\n        \"x\": x,\n        \"y\": y,\n    }\n}","import React, { Component } from 'react'\n\n// MorpheusAPI endpoints\nimport { fetchProjects, fetchCoverage } from '../logic/morpheusAPI';\n\n// Material UI components\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\n// Custom Components\nimport MatrixVisualization from '../visualizations/MatrixVisualization';\nimport FilterMenu from '../common/FilterMenu';\nimport Menu from '../common/Menu';\nimport ResultTextBox from '../common/ResultTextBox';\n\n// Style sheets\nimport './TestMatrixView.scss';\n\n//  Filter functions\nimport { filter_by_test_passed, filter_by_coexecuted_tests, filter_by_test_type, TEST_TYPES, TEST_RESULT} from '../filters/test_filters';\nimport { filter_method_by_number_of_times_tested, filter_by_coexecuted_methods } from '../filters/method_filters';\nimport { process_data, FunctionMap } from '../filters/data_processor';\nimport { sort_by_cluster_X, sort_by_cluster_Y, sort_by_coverage_X, sort_by_coverage_Y, sort_by_suspciousness, color_by_test_result, color_by_test_type} from '../filters/sorting';\n\nclass TestMatrixView extends Component {\n    constructor(props) {\n        super()\n        this.state = {\n            selectedProject: \"\",\n            data: {\n                x: [],\n                y: [],\n                edges: [],\n            },\n            history: [new FunctionMap()],\n            projects: [],\n            commits: [],\n            expanded: false,\n            reset: false,\n            isVisible: false,\n            currentMethod: \"\",\n            anchor: null,\n            current_method_id: '',\n            coloring: \"\"\n        }\n\n        this.backInTime = this.backInTime.bind(this);\n        this.reset = this.reset.bind(this);\n        this.onProjectChange = this.onProjectChange.bind(this);\n        this.updateReset = this.updateReset.bind(this);\n        this.setMethodAnchor = this.setMethodAnchor.bind(this);\n    }\n\n    async onProjectChange(event) {\n        let project_name = event.target.value;\n\n        fetchCoverage(project_name)\n            .then((data) => {\n                this.setState({\n                    data: {\n                        x: data.methods,\n                        y: data.tests,\n                        edges: data.edges,\n                    },\n                    history: [new FunctionMap()]\n                })\n            })\n            .catch(e => console.error(e));\n    }\n\n    async componentDidMount() {\n        let projects = await fetchProjects();\n        let project_name = projects[0].value;\n\n        let data = await fetchCoverage(project_name);\n\n        this.setState({\n            selectedProject: projects[0].value,\n            projects: projects,\n            data: {\n                x: data.methods,\n                y: data.tests,\n                edges: data.edges,\n            },\n            history: [new FunctionMap()]\n        })\n    }\n\n    backInTime() {\n        // Only allow to previous state if there is a previous state.\n        if (this.state.history.length <= 1) {\n            return;\n        }\n\n        const new_history = this.state.history.slice(0, this.state.history.length - 1);\n        this.setState({\n            history: new_history\n        })\n    }\n\n    reset() {\n        this.setState({\n            history: [new FunctionMap()]\n        })\n        this.setState({selectedProject: \"\", selectedCommit: \"\", reset: true});\n    }\n\n    updateReset(){\n        this.setState({reset: false});\n    }\n\n    setMethodAnchor(){\n        this.setState({anchor: null});\n    }\n\n    render() {\n        const history = this.state.history;\n        // check length of history here??\n        const current_filter_map = history[history.length - 1];\n\n        const current_state = process_data(this.state.data, current_filter_map)\n        const labelToggle = history.length > 1 ? true : false;\n\n        const handleChange = (panel) => (event, isExpanded) => {\n            const expanded = isExpanded ? panel : false;\n            this.setState({\n                expanded: expanded,\n            });\n        }\n        return (\n            <>\n            <div className='test-visualization'>    \n                    {((current_state.x.length >= 0) || (current_state.y.length >= 0)) &&\n                    <MatrixVisualization\n                        x={current_state.x}\n                        y={current_state.y}\n                        edges={current_state.edges}\n                        onMethodClick={(event, label) => {\n                            let new_filter_map = new FunctionMap(current_filter_map);\n                            new_filter_map.add_function(\"filter_by_coexecuted_methods\", filter_by_coexecuted_methods, label.to_string())\n\n                            this.setState({\n                                history: this.state.history.concat(new_filter_map)\n                            })\n                        }}\n                        onTestClick={(event, label) => {\n                            let new_filter_map = new FunctionMap(current_filter_map);\n                            new_filter_map.add_function(\"filter_by_coexecuted_tests\", filter_by_coexecuted_tests, label.to_string())\n\n                            this.setState({\n                                history: this.state.history.concat(new_filter_map)\n                            })\n                        }}\n                        onRightClick= {(event, label) => {\n                            event.preventDefault(); // to prevent regular context menu from apppearing\n\n                            this.setState({\n                                isVisible: true,\n                                currentMethod: label.to_string(),\n                                anchor: event.target,\n                                current_method_id: label.get_id()\n                            });\n                        }}\n                        labelToggle={labelToggle}\n                        xlabel={\"methods\"}\n                        ylabel={\"test cases\"} \n                        />\n                }\n                <div id='toolbox'>\n                    <h4>Toolbar</h4>\n                        <Accordion expanded={this.state.expanded === 'panel1'} onChange={handleChange('panel1')}>\n                            <AccordionSummary\n                                expandIcon={<ExpandMoreIcon />}\n                                aria-controls=\"panel1a-content\"\n                                id=\"data-set-selector\"\n                            >\n                                <span>Project Selection</span>\n                            </AccordionSummary>\n                            <AccordionDetails className=\"accordion-block\">\n                                <Menu title=\"Projects\"\n                                    onChange={this.onProjectChange}\n                                    entries={this.state.projects}\n                                    reset={this.state.reset}\n                                    updateReset={this.updateReset}\n                                    />\n                            </AccordionDetails>\n                        </Accordion>\n                        <Accordion expanded={this.state.expanded === 'panel2'} onChange={handleChange('panel2')}>\n                        <AccordionSummary\n                            expandIcon={<ExpandMoreIcon />}\n                            aria-controls=\"panel1a-content\"\n                            id=\"data-set-selector\"\n                        >\n                            <span>Sorting</span>\n                        </AccordionSummary>\n                        <AccordionDetails className=\"accordion-block\">\n                            <Menu\n                                title=\"Sort X-Axis\"\n                                onChange={(e) => {\n                                    let new_filter_map = new FunctionMap(current_filter_map);\n                                    let func = (data) => data\n                                    switch(e.target.value) {\n                                        case \"Coverage\":\n                                            func = sort_by_coverage_X;\n                                            break\n                                        case \"Cluster\":\n                                            func = sort_by_cluster_X;\n                                            break;\n                                        case \"Suspiciousness\":\n                                            func = sort_by_suspciousness;\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                    new_filter_map.add_function(\"sorting-x\", func);\n\n                                    this.setState({\n                                        history: this.state.history.concat(new_filter_map)\n                                    })\n                                }}\n                                entries={[\n                                { key: 0, value: \"Name\" },\n                                { key: 1, value: \"Coverage\" },\n                                { key: 2, value: \"Cluster\" },\n                                { key: 3, value: \"Suspiciousness\"}\n                                ]}\n                                reset={this.state.reset}\n                                updateReset={this.updateReset}\n                                />\n                            <Menu\n                                title=\"Sort Y-Axis\"\n                                onChange={(e) => {\n                                    let new_filter_map = new FunctionMap(current_filter_map);\n                                    let func = (data) => data\n                                    switch (e.target.value) {\n                                        case \"Coverage\":\n                                            func = sort_by_coverage_Y;\n                                            break\n                                        case \"Cluster\":\n                                            func = sort_by_cluster_Y;\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                    new_filter_map.add_function(\"sorting-y\", func);\n\n                                    this.setState({\n                                        history: this.state.history.concat(new_filter_map)\n                                    })\n                                }}\n                                entries={[\n                                    { key: 0, value: \"Name\" },\n                                    { key: 1, value: \"Coverage\" },\n                                    { key: 2, value: \"Cluster\" },\n                                ]} \n                                reset={this.state.reset}\n                                updateReset={this.updateReset}\n                                />\n                        </AccordionDetails>\n                    </Accordion>\n                    <Accordion expanded={this.state.expanded === 'panel3'} onChange={handleChange('panel3')}>\n                        <AccordionSummary\n                            expandIcon={<ExpandMoreIcon />}\n                            aria-controls=\"panel1a-content\"\n                            id=\"data-set-selector\">\n                            <span>Test Filters</span>\n                        </AccordionSummary>\n                        <AccordionDetails className=\"accordion-block\">\n                            <Menu title=\"Test Type\"\n                                entries={[{ key: 0, value: \"All\" }, { key: TEST_TYPES.UNIT, value: TEST_TYPES.UNIT }, { key: TEST_TYPES.INTEGRATION, value: TEST_TYPES.INTEGRATION }, { key: TEST_TYPES.SYSTEM, value: TEST_TYPES.SYSTEM }]}\n                                description={[\"Filter based on type of test:\",\n                                    \"- All: Present all tests.\",\n                                    \"- Unit: Only tests that cover methods within a single class.\",\n                                    \"- Integration: Only tests that cover methods across multiple classes in a single packages.\",\n                                    \"- System: Only tests that cover methods across multiple packages.\"\n                                ]}\n                                onChange={(event) => {\n                                    const test_type = event.target.value;\n                                    let new_filter_map = new FunctionMap(current_filter_map);\n                                    new_filter_map.add_function(\"filter_by_test_type\", filter_by_test_type, test_type)\n                                    new_filter_map.add_function(\"filter_method_by_number_of_times_tested\",\n                                        filter_method_by_number_of_times_tested, 1)\n\n                                    this.setState({\n                                        history: this.state.history.concat(new_filter_map)\n                                    })\n                                }} \n                                reset={this.state.reset}\n                                updateReset={this.updateReset}\n                                />\n                            <Menu title=\"Test Pass Filter\" \n                                entries={[\n                                    { key: 0, value: \"All\" },\n                                    { key: 1, value: TEST_RESULT.PASS },\n                                    { key: 2, value: TEST_RESULT.FAIL }\n                                ]}\n                                description={[\n                                    \"Filter based on the result of each test case:\",\n                                    \"- All: Present all test cases regardless on passed or failed\",\n                                    \"- Only Pass: Present only passed test cases\",\n                                    \"- Only Fail: Present only failed test cases\",\n                                ]}\n                                onChange={(event, index) => {\n                                    const test_result = event.target.value;\n                                    let new_filter_map = new FunctionMap(current_filter_map);\n                                    new_filter_map.add_function(\"filter_by_test_passed\", filter_by_test_passed, test_result)\n                                    new_filter_map.add_function(\"filter_method_by_number_of_times_tested\",\n                                        filter_method_by_number_of_times_tested, 1)\n                                    \n                                    this.setState({\n                                        history: this.state.history.concat(new_filter_map)\n                                    })\n                                }} \n                                reset={this.state.reset}\n                                updateReset={this.updateReset}\n                               />\n                            <FilterMenu title=\"Search Test:\" \n                                entries={current_state.y} \n                                onClick={(event) => {\n                                    const identifier = event.target.value;\n                                    let new_filter_map = new FunctionMap(current_filter_map);\n                                    new_filter_map.add_function(\"filter_by_coexecuted_tests\", filter_by_coexecuted_tests, identifier)\n                                    new_filter_map.add_function(\"filter_method_by_number_of_times_tested\",\n                                        filter_method_by_number_of_times_tested, 1)\n\n                                    this.setState({\n                                        history: this.state.history.concat(new_filter_map)\n                                    })\n                                \n                                }} />\n                        </AccordionDetails>\n                    </Accordion>\n                    <Accordion expanded={this.state.expanded === 'panel4'} onChange={handleChange('panel4')}>\n                        <AccordionSummary\n                            expandIcon={<ExpandMoreIcon />}\n                            aria-controls=\"panel1a-content\"\n                            id=\"data-set-selector\"\n                        >\n                            <span>Method Filters</span>\n                        </AccordionSummary>\n                        <AccordionDetails className=\"accordion-block\">\n                            <FilterMenu \n                                title=\"Search Method:\"\n                                entries={current_state.x}\n                                onClick={(event) => {\n                                    const identifier = event.target.value;\n                                    let new_filter_map = new FunctionMap(current_filter_map);\n                                    new_filter_map.add_function(\"filter_by_coexecuted_methods\", filter_by_coexecuted_methods, identifier)\n                                    new_filter_map.add_function(\"filter_method_by_number_of_times_tested\",\n                                        filter_method_by_number_of_times_tested, 1)\n\n                                    this.setState({\n                                        history: this.state.history.concat(new_filter_map)\n                                    })\n                                }} />\n                        </AccordionDetails>\n                    </Accordion>\n\n                    <Accordion expanded={this.state.expanded === 'panel5'} onChange={handleChange('panel5')}>\n                        <AccordionSummary\n                            expandIcon={<ExpandMoreIcon />}\n                            aria-controls=\"panel1a-content\"\n                            id=\"data-set-selector\"\n                        >\n                            <span>Color Schemes</span>\n                        </AccordionSummary>\n                        <AccordionDetails className=\"accordion-block\">\n                            <Menu title=\"Pick a Color Scheme:\" \n                                entries={[\n                                    { key: 0, value: \"Pass/Fail\" },\n                                    { key: 1, value: \"Unit/Integration/System\" },\n                                ]}\n                                onChange={(e, index) => {\n                                    \n                                    let new_filter_map = new FunctionMap(current_filter_map);\n                                    let func = (data) => data\n                                    switch (e.target.value) {\n                                        case \"Unit/Integration/System\":\n                                            func = color_by_test_type;\n                                            break\n                                        case \"Pass/Fail\":\n                                            func = color_by_test_result;\n                                            break;\n                                        default:\n                                            console.log(`${e.target.value} not yet supported`)\n                                            break;\n                                    }\n                                    new_filter_map.add_function(\"color-nodes\", func);\n\n                                    this.setState({\n                                        history: this.state.history.concat(new_filter_map)\n                                    })\n                                }}\n\n                                reset={this.state.reset}\n                                updateReset={this.updateReset}\n                               />\n                        </AccordionDetails>\n                    </Accordion>\n\n                    <ResultTextBox title=\"Methods\" entries={current_state.x}/>\n                    <ResultTextBox title=\"Tests\" entries={current_state.y}/>\n\n                    <div id=\"control-tools\">\n                        <button onClick={this.backInTime}>Back</button>\n                        <button onClick={this.reset}>Reset</button>\n                    </div>\n                </div> \n\n            </div>\n            </>\n        )\n    }\n}\n\nexport default TestMatrixView;","import React from 'react';\nimport './Footer.scss'\n\nclass Footer extends React.Component {\n    render() {\n        return (\n            <div className='footer'>\n                <div><a href=\"http://spideruci.org\"><img alt=\"spideruci.org\" src=\"spider_circle_red.svg\" /></a></div>\n                <div><a href=\"https://github.com/spideruci\"><img alt=\"github.com/spideruci\" src=\"./GitHub-Mark-32px.png\" /></a></div>\n            </div>    \n        )\n    }\n}\n\nexport default Footer;","import React from 'react';\nimport './Header.scss'\n\nconst Header = (props) => {\n    return (\n        <div className='header'>\n            <h1>{ props.title }</h1>\n        </div>\n    )\n}\n\n\nexport default Header;","import React from \"react\";\nimport \"./navbar.scss\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"./Header\";\n\nconst Navbar = () => {\n  return (\n    <nav>\n      <Link to=\"/\">\n        <Header title=\"Morpheus\" />\n      </Link>\n      <ul>\n        <li>\n          <Link to=\"/about\">About</Link>\n        </li>\n        <li>\n          <Link to=\"/visualization\">Visualization</Link>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch\n} from 'react-router-dom';\nimport About from './components/routes/About';\nimport TestMatrixView from './components/routes/TestMatrixView';\nimport Footer from './components/common/Footer';\nimport Navbar from './components/common/navbar';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className='app'>\n      \n      <Router basename={process.env.PUBLIC_URL}>\n        <Navbar />\n        <div className=\"component\">\n          <Switch>\n            <Route exact path=\"/\" component={About} />\n            <Route path=\"/about\" component={About} />\n            <Route path=\"/visualization\" component={TestMatrixView} />\n          </Switch>\n        </div>\n      </Router>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom'\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}